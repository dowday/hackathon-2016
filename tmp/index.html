{"output":{"innerCSS":{},"outerCSS":{},"innerJS":{},"require":{"mod/app":1,"mod/x-template":1},"modules":[],"initJS":{"APP = require('app');\nsetTimeout(function (){if(typeof APP.start==='function')APP.start()});":1,"/****************************************\n<x-template name=\"nurse\">\n        <div class=\"hint\">\n            <div class=\"nurse-question\">\n                <div $tpl=\"text\"/>\n            </div>\n        </div>\n    </x-template>\n****************************************/\nrequire('x-template').register(\"nurse\", function( root ) {\n    var $ = require( 'dom' );\n    var elem1 = $.div( \"hint\" );\n    root.appendChild( elem1 );\n    var elem2 = $.div( \"nurse-question\" );\n    elem1.appendChild( elem2 );\n    var elem3 = $.div();\n    elem2.appendChild( elem3 );\n    return { \"text\": elem3 };\n});\n":1},"include":{},"resource":{},"dynamicModules":{"mod/actions":"require('actions', function(exports, module) {\nexports['appointment'] = ['app', [\n    ['text', '<h1>Appointment</h1>'],\n    ['text', '<code>arg0 = \"{{arg0}}\"</code>'],\n    ['text', '<code>arg1 = \"{{arg1}}\"</code>'],\n    ['text', '<b>{{appointments[arg1].date|datetime}}</b>'],\n    ['text', '{{appointments[arg1].text}}'],\n    ['button', { text: \"Back\", action: \"s1-app1\" }]\n]]\n\nexports['appointments'] = ['app', [\n    ['set', {\n        appointments: [\n            { date: 201605031500, text: \"See my GP for pain.\" },\n            { date: 201605131700, text: \"Surgery.\" },\n            { date: 201605080800, text: \"X-Ray.\" }\n        ]\n    }],\n    ['button', { text: 'Record a new one', action: \"new-appointment\" }],\n    ['loop', {\n        list: \"appointments\",\n        item: \"tmp.appointment\",\n        sort: \"date\",\n        filter: function( item ) {\n            return item.text.indexOf( 'Ray' ) == -1;\n        }\n    }, [\n        ['text', \"<b>{{tmp.appointment.date}}</b>: {{tmp.appointment.text}}\"]\n    ]]\n]]\n\nexports['dusan-test'] = // Excellent!\n//------------\n// hackathon-2016 git access rights testing\nfunction myTest() {\n  document.getElementById(\"test\").innerHTML = \"Test works\";\n}\n\nexports['main'] = [\"story\", [\n    [\"reset\", { \n        $today: 201605010930,\n        firstname: \"Homer\",\n        lastname: \"Broken\",\n        appointments: [\n            { date: 201605031500, text: \"See my GP for pain.\" },\n            { date: 201605131700, text: \"Surgery.\" },\n            { date: 201605080800, text: \"X-Ray.\" }\n        ],\n        tmp: []\n    }],\n    [\"button\", { text: \"Test appointments list\", action: \"app-appointments\" }],\n    [\"button\", { text: \"Tutorial\", action: \"tutorial:start\" }]\n]]\n\nexports['new-appointment'] = ['app', [\n    ['input-text', { data: 'tmp.date', text: 'Date' }],\n    ['input-text', { data: 'tmp.text', text: 'Subject' }],\n    ['button', { text: \"Add\", action: [\n        function() {\n            this.push(\n                \"appointments\",\n                {\n                    date: this.get('tmp.date'),\n                    text: this.get('tmp.text')\n                }\n            );\n        },\n        \"s1-app1\"\n    ]}],\n    ['button', { text: \"Cancel\", action: \"s1-app\" }]\n]]\n\nexports['personal-data'] = ['app', [\n    ['input-text', { data: 'firstname', text: \"Firstname\" }],\n    ['input-text', { data: 'lastname', text: \"Lastname\" }],\n    ['button', { text: \"Back\", action: \"s1-app1\" }]\n]]\n\nexports['s1-app1'] = ['app', [\n    ['set', {\n        appointments: [\n            { date: 201605031500, text: \"See my GP for pain.\" },\n            { date: 201605131700, text: \"Surgery.\" },\n            { date: 201605080800, text: \"X-Ray.\" }\n        ]\n    }],\n    ['nurse', \"Hi {{firstname}},<br/>how can I help you?\"],\n    ['button', { text: \"I limb a bit!\", action: \"s1-app2\" }],\n    ['button', { text: \"Edit personal data\", action: \"personal-data\" }],\n    ['button', { text: \"New Appointment\", action: \"new-appointment\" }],\n    ['loop', {\n        list: \"appointments\",\n        item: \"tmp.apt\",\n        sort: \"date\",\n        filter: function( item ) {\n            return true; //item.text.indexOf( 'Ray' ) == -1;\n        }\n    }, [\n        ['button', {\n            style: 'box',            \n            text: \"<div><b>{{tmp.apt.date|datetime}}</b><br/>{{tmp.apt.text}}</div>\",\n            freeze: \"tmp.apt.$key\",\n            action: \"appointment/{{tmp.apt.$key}}\"\n        }]\n    ]]\n]]\n\nexports['s1-app2'] = ['app', [\n    ['nurse', \"Ho! I'm sorry.<br/>I think you should call your GP.\"],\n    ['button', { text: \"{{gp.name}} <i>{{gp.phone}}</i>\", action: \"s1-demo3\" }],\n    ['button', { text: \"Find another one\", action: \"s1-demo3\" }],\n    ['input-bool', { data: \"vaccination.ror.done\", text: \"Vaccination againts turtles\" }],\n    ['input-text', { data: \"firstname\", text: \"Firstname\" }],\n    ['input-file', { data: \"x-ray\", text: \"X-Ray scan\" }]\n]]\n\nexports['s1-demo3'] = ['demo', [\n    ['text', \"{{firstname}} {{lastname}} calls the doctor's secretary and get an appointment for May 5, 2016.\"],\n    ['button', { text: \"He records the appointment in pHM&trade;\", action: \"s1-app1\" }]\n]]\n\nexports['scenario1'] = ['demo', [\n    ['reset', {\n        today: 20160501,\n        \"gp.name\": \"Dr Frankenstein\",\n        \"gp.phone\": \"+4122666000\",\n        appointments: [\n            { date: 201605031500, text: \"See my GP for pain.\" },\n            { date: 201605131700, text: \"Surgery.\" },\n            { date: 201605080800, text: \"X-Ray.\" }\n        ]\n    }],\n    ['text', \"{{today|date}} - Mr {{lastname}} limps a lot.\"],\n    ['button', { text: \"He looks at his pHM&trade; app\", action: \"s1-app1\" }]\n]]\n\nexports['tutorial:app-appointments-add'] = ['app', [\n    ['text', '<h1>New appointment</h1>'],\n    ['set', {\n        \"tmp.apt.date\": \"{{$today}}\",\n        \"tmp.apt.text\": \"\"\n    }],\n    ['input-text', { data: 'tmp.apt.date', text: 'Date' }],\n    ['input-text', { data: 'tmp.apt.text', text: 'Subject' }],\n    ['row', [\n        ['button', { text: \"Add\", action: [\n            function() {\n                this.push( \"appointments\", this.get( \"tmp.apt\" ) );\n            },\n            \"app-appointments\"\n        ]}],\n        ['button', { text: \"Cancel\", action: \"app-appointments\" }]\n    ]]\n]]\n\nexports['tutorial:app-appointments-edit'] = ['app', [\n    ['text', '<h1>Appointment</h1>'],\n    ['input-date', { text: \"Date\", data: 'appointments[arg1].date' }],\n    ['input-text', { text: \"Subject\", data: 'appointments[arg1].text' }],\n    ['button', { text: \"Back\", action: \"app-appointments\" }]\n]]\n\nexports['tutorial:app-appointments-view'] = ['app', [\n    ['text', '<h1>Appointment</h1>'],\n    ['text', '<b>{{appointments[arg1].date|datetime}}</b>'],\n    ['text', '{{appointments[arg1].text}}'],\n    ['row', [\n        ['button', { text: \"Edit\", action: \"app-appointments-edit/{{arg1}}\" }],\n        ['button', {\n            text: \"Delete\",\n            action: [\n                function() {\n                    this.remove( \"appointments\", \"arg1\" );\n                },\n                \"app-appointments\"\n            ]\n        }]\n    ]],\n    ['button', { text: \"Back\", action: \"app-appointments\" }]\n]]\n\nexports['tutorial:app-appointments'] = ['app', [\n    ['text', \"<h1>Appointments List</h1>\"],\n    ['button', {\n        text: \"Add new appointment\",\n        action: \"app-appointments-add\"\n    }],\n    ['loop', {\n        list: \"appointments\",\n        item: \"tmp.apt\",\n        sort: \"date\",\n        filter: function( item ) {\n            return true; //item.text.indexOf( 'Ray' ) == -1;\n        }\n    }, [\n        ['button', {\n            style: 'box',            \n            text: \"<div><b>{{tmp.apt.date|datetime}}</b><br/>{{tmp.apt.text}}</div>\",\n            freeze: \"tmp.apt.$key\",\n            action: \"app-appointments-view/{{tmp.apt.$key}}\"\n        }]\n    ]]    \n]]\n\nexports['tutorial:start'] = [\"story\", [\n    [\"reset\", { \n        $today: 201605010930,\n        firstname: \"Homer\",\n        lastname: \"Broken\",\n        appointments: [\n            { date: 201605031500, text: \"See my GP for pain.\" },\n            { date: 201605131700, text: \"Surgery.\" },\n            { date: 201605080800, text: \"X-Ray.\" }\n        ],\n        tmp: []\n    }],\n    [\"button\", { text: \"Start the tutorial\", action: \"app-appointments\" }]\n]]\n\n});\n"},"root":{"children":[{"type":1,"name":"html","children":[{"type":1,"name":"head","children":[{"type":1,"name":"title","attribs":{},"children":[{"type":2,"text":"hackathon-2016"}]},{"type":1,"name":"meta","attribs":{"charset":"utf-8"},"void":true},{"type":1,"name":"meta","attribs":{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=1"},"void":true}]},{"type":1,"name":"body","children":[{"type":2,"text":"\n    "},{"type":0,"name":"x-dynamic-module","attribs":{"src":"actions","name":"actions"},"pos":23,"autoclose":true},{"type":2,"text":"\n\n    "},{"type":1,"name":"a","attribs":{"class":"header","href":"#main","id":"HEADER"},"children":[{"type":2,"text":"Open Hackathon 2016 - Team 3"}],"pos":78},{"type":2,"text":"\n    "},{"type":1,"name":"div","attribs":{"id":"DEMO"},"children":[{"type":2,"text":"Hackathon 2016"}],"pos":158},{"type":2,"text":"\n    "},{"type":1,"name":"div","attribs":{"id":"APP"},"children":[{"type":2,"text":"\n        "},{"type":1,"name":"div","attribs":{"id":"APP-BODY"},"children":[{"type":2,"text":"pHM"},{"type":8,"text":"&trade;","pos":243}],"pos":221},{"type":2,"text":"\n    "}],"pos":198},{"type":2,"text":"\n\n    "},{"type":0,"name":"x-template","attribs":{"name":"nurse"},"children":[],"pos":273},{"type":2,"text":"\n"}]}],"pos":0}]}}}