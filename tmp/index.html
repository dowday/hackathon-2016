{"output":{"innerCSS":{},"outerCSS":{},"innerJS":{},"require":{"mod/app":1,"mod/x-template":1},"modules":[],"initJS":{"APP = require('app');\nsetTimeout(function (){if(typeof APP.start==='function')APP.start()});":1,"/****************************************\n<x-template name=\"nurse\">\r\n        <div class=\"hint\">\r\n            <div class=\"nurse-question\">\r\n                <div $tpl=\"text\"/>\r\n            </div>\r\n        </div>\r\n    </x-template>\n****************************************/\nrequire('x-template').register(\"nurse\", function( root ) {\n    var $ = require( 'dom' );\n    var elem1 = $.div( \"hint\" );\n    root.appendChild( elem1 );\n    var elem2 = $.div( \"nurse-question\" );\n    elem1.appendChild( elem2 );\n    var elem3 = $.div();\n    elem2.appendChild( elem3 );\n    return { \"text\": elem3 };\n});\n":1},"include":{},"resource":{},"dynamicModules":{"mod/actions":"require('actions', function(exports, module) {\nexports['app-appointments-add'] = ['app', [\r\n    ['text', '<h1>New appointment</h1>'],\r\n    ['set', {\r\n        \"tmp.apt.date\": \"{{$today}}\",\r\n        \"tmp.apt.text\": \"\"\r\n    }],\r\n    ['input-text', { data: 'tmp.apt.date', text: 'Date' }],\r\n    ['input-text', { data: 'tmp.apt.text', text: 'Subject' }],\r\n    ['row', [\r\n        ['button', { text: \"Add\", action: [\r\n            function() {\r\n                this.push( \"appointments\", this.get( \"tmp.apt\" ) );\r\n            },\r\n            \"app-appointments\"\r\n        ]}],\r\n        ['button', { text: \"Cancel\", action: \"app-appointments\" }]\r\n    ]]\r\n]]\r\n\nexports['app-appointments-edit'] = ['app', [\r\n    ['text', '<h1>Appointment</h1>'],\r\n    ['input-date', { text: \"Date\", data: 'appointments[arg1].date' }],\r\n    ['input-text', { text: \"Subject\", data: 'appointments[arg1].text' }],\r\n    ['button', { text: \"Back\", action: \"app-appointments\" }]\r\n]]\r\n\nexports['app-appointments-view'] = ['app', [\r\n    ['text', '<h1>Appointment</h1>'],\r\n    ['text', '<b>{{appointments[arg1].date|datetime}}</b>'],\r\n    ['text', '{{appointments[arg1].text}}'],\r\n    ['row', [\r\n        ['button', { text: \"Edit\", action: \"app-appointments-edit/{{arg1}}\" }],\r\n        ['button', {\r\n            text: \"Delete\",\r\n            action: [\r\n                function() {\r\n                    this.remove( \"appointments\", \"arg1\" );\r\n                },\r\n                \"app-appointments\"\r\n            ]\r\n        }]\r\n    ]],\r\n    ['button', { text: \"Back\", action: \"app-appointments\" }]\r\n]]\r\n\nexports['app-appointments'] = ['app', [\r\n    ['text', \"<h1>Appointments List</h1>\"],\r\n    ['button', {\r\n        text: \"Add new appointment\",\r\n        action: \"app-appointments-add\"\r\n    }],\r\n    ['loop', {\r\n        list: \"appointments\",\r\n        item: \"tmp.apt\",\r\n        sort: \"date\",\r\n        filter: function( item ) {\r\n            return true; //item.text.indexOf( 'Ray' ) == -1;\r\n        }\r\n    }, [\r\n        ['button', {\r\n            style: 'box',            \r\n            text: \"<div><b>{{tmp.apt.date|datetime}}</b><br/>{{tmp.apt.text}}</div>\",\r\n            freeze: \"tmp.apt.$key\",\r\n            action: \"app-appointments-view/{{tmp.apt.$key}}\"\r\n        }]\r\n    ]]    \r\n]]\r\n\nexports['appointment'] = ['app', [\r\n    ['text', '<h1>Appointment</h1>'],\r\n    ['text', '<code>arg0 = \"{{arg0}}\"</code>'],\r\n    ['text', '<code>arg1 = \"{{arg1}}\"</code>'],\r\n    ['text', '<b>{{appointments[arg1].date|datetime}}</b>'],\r\n    ['text', '{{appointments[arg1].text}}'],\r\n    ['button', { text: \"Back\", action: \"s1-app1\" }]\r\n]]\r\n\nexports['appointments'] = ['app', [\r\n    ['set', {\r\n        appointments: [\r\n            { date: 201605031500, text: \"See my GP for pain.\" },\r\n            { date: 201605131700, text: \"Surgery.\" },\r\n            { date: 201605080800, text: \"X-Ray.\" }\r\n        ]\r\n    }],\r\n    ['button', { text: 'Record a new one', action: \"new-appointment\" }],\r\n    ['loop', {\r\n        list: \"appointments\",\r\n        item: \"tmp.appointment\",\r\n        sort: \"date\",\r\n        filter: function( item ) {\r\n            return item.text.indexOf( 'Ray' ) == -1;\r\n        }\r\n    }, [\r\n        ['text', \"<b>{{tmp.appointment.date}}</b>: {{tmp.appointment.text}}\"]\r\n    ]]\r\n]]\r\n\nexports['main'] = [\"story\", [\r\n    [\"reset\", { \r\n        $today: 201605010930,\r\n        firstname: \"Homer\",\r\n        lastname: \"Broken\",\r\n        appointments: [\r\n            { date: 201605031500, text: \"See my GP for pain.\" },\r\n            { date: 201605131700, text: \"Surgery.\" },\r\n            { date: 201605080800, text: \"X-Ray.\" }\r\n        ],\r\n        tmp: []\r\n    }],\r\n    [\"button\", { text: \"Test appointments list\", action: \"app-appointments\" }],\r\n    [\"button\", { text: \"Debug\", action: function() {\r\n        debugger;\r\n        this.push( \"tmp\", 27 );\r\n    }}]\r\n]]\r\n\nexports['new-appointment'] = ['app', [\r\n    ['input-text', { data: 'tmp.date', text: 'Date' }],\r\n    ['input-text', { data: 'tmp.text', text: 'Subject' }],\r\n    ['button', { text: \"Add\", action: [\r\n        function() {\r\n            this.push(\r\n                \"appointments\",\r\n                {\r\n                    date: this.get('tmp.date'),\r\n                    text: this.get('tmp.text')\r\n                }\r\n            );\r\n        },\r\n        \"s1-app1\"\r\n    ]}],\r\n    ['button', { text: \"Cancel\", action: \"s1-app\" }]\r\n]]\r\n\nexports['personal-data'] = ['app', [\r\n    ['input-text', { data: 'firstname', text: \"Firstname\" }],\r\n    ['input-text', { data: 'lastname', text: \"Lastname\" }],\r\n    ['button', { text: \"Back\", action: \"s1-app1\" }]\r\n]]\r\n\nexports['s1-app1'] = ['app', [\r\n    ['set', {\r\n        appointments: [\r\n            { date: 201605031500, text: \"See my GP for pain.\" },\r\n            { date: 201605131700, text: \"Surgery.\" },\r\n            { date: 201605080800, text: \"X-Ray.\" }\r\n        ]\r\n    }],\r\n    ['nurse', \"Hi {{firstname}},<br/>how can I help you?\"],\r\n    ['button', { text: \"I limb a bit!\", action: \"s1-app2\" }],\r\n    ['button', { text: \"Edit personal data\", action: \"personal-data\" }],\r\n    ['button', { text: \"New Appointment\", action: \"new-appointment\" }],\r\n    ['loop', {\r\n        list: \"appointments\",\r\n        item: \"tmp.apt\",\r\n        sort: \"date\",\r\n        filter: function( item ) {\r\n            return true; //item.text.indexOf( 'Ray' ) == -1;\r\n        }\r\n    }, [\r\n        ['button', {\r\n            style: 'box',            \r\n            text: \"<div><b>{{tmp.apt.date|datetime}}</b><br/>{{tmp.apt.text}}</div>\",\r\n            freeze: \"tmp.apt.$key\",\r\n            action: \"appointment/{{tmp.apt.$key}}\"\r\n        }]\r\n    ]]\r\n]]\r\n\nexports['s1-app2'] = ['app', [\r\n    ['nurse', \"Ho! I'm sorry.<br/>I think you should call your GP.\"],\r\n    ['button', { text: \"{{gp.name}} <i>{{gp.phone}}</i>\", action: \"s1-demo3\" }],\r\n    ['button', { text: \"Find another one\", action: \"s1-demo3\" }],\r\n    ['input-bool', { data: \"vaccination.ror.done\", text: \"Vaccination againts turtles\" }],\r\n    ['input-text', { data: \"firstname\", text: \"Firstname\" }],\r\n    ['input-file', { data: \"x-ray\", text: \"X-Ray scan\" }]\r\n]]\r\n\nexports['s1-demo3'] = ['demo', [\r\n    ['text', \"{{firstname}} {{lastname}} calls the doctor's secretary and get an appointment for May 5, 2016.\"],\r\n    ['button', { text: \"He records the appointment in pHM&trade;\", action: \"s1-app1\" }]\r\n]]\r\n\nexports['scenario1'] = ['demo', [\r\n    ['reset', {\r\n        today: 20160501,\r\n        \"gp.name\": \"Dr Frankenstein\",\r\n        \"gp.phone\": \"+4122666000\",\r\n        appointments: [\r\n            { date: 201605031500, text: \"See my GP for pain.\" },\r\n            { date: 201605131700, text: \"Surgery.\" },\r\n            { date: 201605080800, text: \"X-Ray.\" }\r\n        ]\r\n    }],\r\n    ['text', \"{{today|date}} - Mr {{lastname}} limps a lot.\"],\r\n    ['button', { text: \"He looks at his pHM&trade; app\", action: \"s1-app1\" }]\r\n]]\r\n\n});\n"},"root":{"children":[{"type":1,"name":"html","children":[{"type":1,"name":"head","children":[{"type":1,"name":"title","attribs":{},"children":[{"type":2,"text":"hackathon-2016"}]},{"type":1,"name":"meta","attribs":{"charset":"utf-8"},"void":true},{"type":1,"name":"meta","attribs":{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=1"},"void":true}]},{"type":1,"name":"body","children":[{"type":2,"text":"\r\n    "},{"type":0,"name":"x-dynamic-module","attribs":{"src":"actions","name":"actions"},"pos":24,"autoclose":true},{"type":2,"text":"\r\n\r\n    "},{"type":1,"name":"a","attribs":{"class":"header","href":"#main","id":"HEADER"},"children":[{"type":2,"text":"Open Hackathon 2016 - Team 3"}],"pos":81},{"type":2,"text":"\r\n    "},{"type":1,"name":"div","attribs":{"id":"DEMO"},"children":[{"type":2,"text":"Hackathon 2016"}],"pos":162},{"type":2,"text":"\r\n    "},{"type":1,"name":"div","attribs":{"id":"APP"},"children":[{"type":2,"text":"\r\n        "},{"type":1,"name":"div","attribs":{"id":"APP-BODY"},"children":[{"type":2,"text":"pHM"},{"type":8,"text":"&trade;","pos":249}],"pos":227},{"type":2,"text":"\r\n    "}],"pos":203},{"type":2,"text":"\r\n\r\n    "},{"type":0,"name":"x-template","attribs":{"name":"nurse"},"children":[],"pos":282},{"type":2,"text":"\r\n"}]}],"pos":0}]}}}