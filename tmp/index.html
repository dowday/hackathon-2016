{"output":{"innerCSS":{".x-row {\r\n    display: table;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.x-row[fullwidth] {\r\n    width: 100%;\r\n}\r\n\r\n.x-row[fill],\r\n.x-row.fill {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.x-row > div,\r\n.x-row > div > div {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.x-row > div > div {\r\n    position: relative;\r\n    display: table-cell;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n}\r\n\r\n.x-row[dir=horizontal] > div,\r\n.x-row[orientation=horizontal] > div {\r\n    display: contents;\r\n}\r\n\r\n.x-row[dir=vertical] > div,\r\n.x-row[orientation=vertical] > div {\r\n    display: table-row;\r\n}\r\n\r\n.x-row > div.TRBL > div > div,\r\n.x-row > div.TRL > div > div,\r\n.x-row > div.RBL > div > div,\r\n.x-row > div.RL > div > div\r\n{\r\n    width: 100%;\r\n}\r\n\r\n.x-row > div.TRBL > div > div,\r\n.x-row > div.TRB > div > div,\r\n.x-row > div.TBL > div > div,\r\n.x-row > div.TB > div > div\r\n{\r\n    height: 100%;\r\n}\r\n\r\n@media (orientation: portrait) {\r\n    .x-row.narrow > div {\r\n        display: contents;\r\n    }\r\n    .x-row.wide > div {\r\n        display: table-row;\r\n    }\r\n}\r\n\r\n@media (orientation: landscape) {\r\n    .x-row.wide > div {\r\n        display: contents;\r\n    }\r\n    .x-row.narrow > div {\r\n        display: table-row;\r\n    }\r\n}\r\n":1,"#x-1 { overflow: auto; }\n":1,"#x-central-box{\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 320px;\n  height: 480px;\n  margin: -240px -160px;\n  background: #fff;\n  padding: .5rem;\n  overflow: hidden;\n}@media (max-width: 320px) {\n  #x-central-box {\n    left: 0;\n    top: 0;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n    border: none;\n    box-shadow: none;\n  }\n  html {\n    font-size: 5vw;\n  }\n}\n@media (max-height: 480px) {\n  #x-central-box {\n    left: 0;\n    top: 0;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 0;\n    border: none;\n    box-shadow: none;\n  }\n  html {\n    font-size: 5vw;\n  }\n}\n":1},"outerCSS":{},"innerJS":{},"require":{"mod/main":1,"mod/tfw.wdg.book":1,"mod/qrcode":1,"mod/x-widget":1,"mod/tp4.input":1,"mod/x-template":1,"mod/tp4.wait":1},"modules":[],"initJS":{"APP = require('main');\nsetTimeout(function (){if(typeof APP.start==='function')APP.start()});":1,"try{require('x-widget')('qrcode','qrcode',{})}catch(x){console.error('Unable to initialize qrcode!', x)}":1,"try{require('x-widget')('lost-email','tp4.input',{\"label\":\"Email address\",\"autofocus\":null})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"try{require('x-widget')('new-email','tp4.input',{label: \"Email\"})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"try{require('x-widget')('new-firstname','tp4.input',{label: \"First Name\"})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"try{require('x-widget')('new-lastname','tp4.input',{label: \"Last Name\"})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"/****************************************\n<x-template name=\"user.wait\">\r\n        <x-widget name=\"tp4.wait\" $caption=\"Loading...\" $color=\"#9cd\"/>\r\n    </x-template>\n****************************************/\nrequire('x-template').register(\"user.wait\", function( root ) {\n    var $ = require( 'dom' );\n    var elem1 = require('x-widget').template({\"name\":\"tp4.wait\",\"$caption\":\"Loading...\",\"$color\":\"#9cd\"});\n    root.appendChild( elem1 );\n    return {  };\n});\n":1,"/****************************************\n<x-template name=\"user.data\">\r\n        <img $tpl=\"img\" width=\"128\" height=\"128\" style=\"float:left; margin:0 1em 1em 0\"/>\r\n        <p $tpl=\"firstname\">Firstname</p>\r\n        <p $tpl=\"lastname\">Lastname</p>\r\n        <a href=\"#/book/user-edit\" class=\"tp4-button\">Edit</a>\r\n        <hr/>\r\n        <p><b>Planning</b></p>\r\n        <ul $tpl=\"planning\"></ul>\r\n        <hr/>\r\n        <p>Here is your QRCode, you'd better show it at every visit:</p>\r\n        <center>\r\n            <x-widget name=\"qrcode\" id=\"qrcode2\"></x-widget>\r\n        </center>\r\n        \r\n    </x-template>\n****************************************/\nrequire('x-template').register(\"user.data\", function( root ) {\n    var $ = require( 'dom' );\n    var elem1 = $.tag( \"img\" );\n    $.att( elem1, {\"width\":\"128\",\"height\":\"128\",\"style\":\"float:left; margin:0 1em 1em 0\"} );\n    root.appendChild( elem1 );\n    var elem2 = $.tag( \"p\" );\n    root.appendChild( elem2 );\n    var elem3 = $.txt( \"Firstname\" );\n    elem2.appendChild( elem3 );\n    var elem4 = $.tag( \"p\" );\n    root.appendChild( elem4 );\n    var elem5 = $.txt( \"Lastname\" );\n    elem4.appendChild( elem5 );\n    var elem6 = $.tag( \"a\", \"tp4-button\" );\n    $.att( elem6, {\"href\":\"#/book/user-edit\"} );\n    root.appendChild( elem6 );\n    var elem7 = $.txt( \"Edit\" );\n    elem6.appendChild( elem7 );\n    var elem8 = $.tag( \"hr\" );\n    root.appendChild( elem8 );\n    var elem9 = $.tag( \"p\" );\n    root.appendChild( elem9 );\n    var elem10 = $.tag( \"b\" );\n    elem9.appendChild( elem10 );\n    var elem11 = $.txt( \"Planning\" );\n    elem10.appendChild( elem11 );\n    var elem12 = $.tag( \"ul\" );\n    root.appendChild( elem12 );\n    var elem13 = $.tag( \"hr\" );\n    root.appendChild( elem13 );\n    var elem14 = $.tag( \"p\" );\n    root.appendChild( elem14 );\n    var elem15 = $.txt( \"Here is your QRCode, you'd better show it at every visit:\" );\n    elem14.appendChild( elem15 );\n    var elem16 = $.tag( \"center\" );\n    root.appendChild( elem16 );\n    var elem17 = require('x-widget').template({\"name\":\"qrcode\",\"id\":\"qrcode2\"});\n    elem16.appendChild( elem17 );\n    return { \"img\": elem1, \"firstname\": elem2, \"lastname\": elem4, \"planning\": elem12 };\n});\n":1,"/****************************************\n<x-template name=\"user.visit\">\r\n        <li>\r\n            <p><em $tpl=\"visitDate\"></em>: &nbsp;<a $tpl=\"visitName\"></a>.</p>\r\n        </li>\r\n    </x-template>\n****************************************/\nrequire('x-template').register(\"user.visit\", function( root ) {\n    var $ = require( 'dom' );\n    var elem1 = $.tag( \"li\" );\n    root.appendChild( elem1 );\n    var elem2 = $.tag( \"p\" );\n    elem1.appendChild( elem2 );\n    var elem3 = $.tag( \"em\" );\n    elem2.appendChild( elem3 );\n    var elem4 = $.txt( \": \" );\n    elem2.appendChild( elem4 );\n    var elem5 = $.tag( \"a\" );\n    elem2.appendChild( elem5 );\n    var elem6 = $.txt( \".\" );\n    elem2.appendChild( elem6 );\n    return { \"visitDate\": elem3, \"visitName\": elem5 };\n});\n":1,"try{require('x-widget')('user-edit-firstname','tp4.input',{\"label\":\"Firstname\",\"autofocus\":null})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"try{require('x-widget')('user-edit-lastname','tp4.input',{\"label\":\"Lastname\"})}catch(x){console.error('Unable to initialize tp4.input!', x)}":1,"require('tfw.wdg.book').create('x-1', \"book\");":1,"try{require('x-widget')('tp4.wait0','tp4.wait',{\"size\":\"128\"})}catch(x){console.error('Unable to initialize tp4.wait!', x)}":1},"include":{"main.htm":1,"how-to-flash.htm":1,"back.htm":1,"lost.htm":1,"new.htm":1,"user.htm":1,"user-edit.htm":1,"registration-1.htm":1,"registration1.htm":1,"registration2.htm":1},"resource":{},"root":{"children":[{"type":1,"name":"html","children":[{"type":1,"name":"head","children":[{"type":1,"name":"title","attribs":{},"children":[{"type":2,"text":"hackathon-2016"}]},{"type":1,"name":"meta","attribs":{"charset":"utf-8"},"void":true},{"type":1,"name":"meta","attribs":{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=1"},"void":true}]},{"type":1,"name":"body","children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"div","attribs":{"id":"x-central-box","cols":"20","class":"x-central-box"},"children":[{"type":2,"text":"\r\n        "},{"type":1,"name":"div","attribs":{"hash":"book","id":"x-1"},"children":[{"type":1,"name":"div","attribs":{"data-activate":"onActivateMain","data-page":"main"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"Registration system"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"To register, you need to "},{"type":1,"name":"a","attribs":{"href":"#/book/how-to-flash"},"children":[{"type":2,"text":"flash the QRCode"}],"pos":60},{"type":2,"text":" you should have received by email."}],"pos":32},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"article","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button wide","href":"#/book/new"},"children":[{"type":2,"text":"This is my first registration!"}],"pos":168},{"type":2,"text":"\r\n"}],"pos":153},{"type":2,"text":"\r\n"},{"type":1,"name":"article","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button wide","href":"#/book/lost"},"children":[{"type":2,"text":"I've lost my QRCode, sorry..."}],"pos":276},{"type":2,"text":"\r\n"}],"pos":261},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"br","attribs":{},"children":[],"pos":371,"autoclose":true},{"type":2,"text":"\r\n"},{"type":1,"name":"hr","attribs":{},"children":[],"pos":378,"autoclose":true},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Here is what a QRCode looks like:"}],"pos":387},{"type":2,"text":"\r\n"},{"type":1,"name":"center","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"div","attribs":{"id":"qrcode","style":"display:none"},"children":[],"pos":443},{"type":2,"text":"\r\n"}],"pos":429},{"type":2,"text":"\r\n"}],"pos":188,"autoclose":true}],"pos":151},{"type":1,"name":"div","attribs":{"data-page":"how-to-flash"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"How to flash a QRCode"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"You can do this with your phone or tablette if a QRReader is installed on it."}],"pos":34},{"type":2,"text":"\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"For Androïd devices, you can use "},{"type":1,"name":"a","attribs":{"target":"PLAY","href":"https://play.google.com/store/apps/details?id=la.droid.qr"},"children":[{"type":2,"text":"QRDroïd"}],"pos":156},{"type":2,"text":" for instance."}],"pos":120},{"type":2,"text":"\r\n"},{"type":1,"name":"p","attribs":{},"children":[],"pos":269},{"type":2,"text":"\r\n"},{"type":0,"name":"x-include","children":[{"type":1,"name":"hr","attribs":{},"children":[],"pos":0,"autoclose":true},{"type":2,"text":"\r\n"},{"type":1,"name":"center","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button","href":"#/book/main"},"children":[{"type":2,"text":"← Back"}],"pos":21},{"type":2,"text":"\r\n"}],"pos":7},{"type":2,"text":"\r\n"}],"pos":278,"autoclose":true},{"type":2,"text":"\r\n"}],"pos":250,"autoclose":true}],"pos":236},{"type":1,"name":"div","attribs":{"data-page":"lost"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"Lost your QRCode?"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"We can send you back to your email address:"}],"pos":30},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"id":"lost-email","style":"display:none"},"children":[],"pos":84},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"hr","attribs":{},"children":[],"pos":180,"autoclose":true},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"dir":"horizontal","fullwidth":null,"class":"x-row"},"children":[{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"href":"#/book/main","class":"tp4-button simple"},"children":[{"type":2,"text":"Cancel"}],"pos":229}]}]},{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"href":"#","class":"tp4-button","id":"btnLostRegistration"},"children":[{"type":2,"text":"Send it back to me"}],"pos":293}]}]}],"pos":189},{"type":2,"text":"\r\n\r\n    \r\n"}],"pos":320,"autoclose":true}],"pos":314},{"type":1,"name":"div","attribs":{"data-page":"new"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"New registration"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"id":"new-email","style":"display:none"},"children":[],"pos":29},{"type":2,"text":"\r\n"},{"type":1,"name":"div","attribs":{"id":"new-firstname","style":"display:none"},"children":[],"pos":113},{"type":2,"text":"\r\n"},{"type":1,"name":"div","attribs":{"id":"new-lastname","style":"display:none"},"children":[],"pos":206},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"hr","attribs":{},"children":[],"pos":299,"autoclose":true},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"orientation":"horizontal","fullwidth":null,"class":"x-row"},"children":[{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"href":"#/book/main","class":"tp4-button warning"},"children":[{"type":2,"text":"Cancel"}],"pos":356}]}]},{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"id":"btnNewRegistration","href":"#","class":"tp4-button"},"children":[{"type":2,"text":"Create"}],"pos":421}]}]}],"pos":308},{"type":2,"text":"\r\n\r\n\r\n\r\n\r\n"}],"pos":373,"autoclose":true}],"pos":368},{"type":1,"name":"div","attribs":{"data-activate":"onActivateUser","data-page":"user"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"Your data"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"id":"user-container"},"children":[{"type":2,"text":"\r\n    "},{"type":0,"name":"x-template","attribs":{"name":"user.wait"},"children":[],"pos":53},{"type":2,"text":"\r\n    "},{"type":0,"name":"x-template","attribs":{"name":"user.data"},"children":[],"pos":181},{"type":2,"text":"\r\n    "},{"type":0,"name":"x-template","attribs":{"name":"user.visit"},"children":[],"pos":754},{"type":2,"text":"\r\n"}],"pos":22},{"type":2,"text":"\r\n\r\n"}],"pos":456,"autoclose":true}],"pos":419},{"type":1,"name":"div","attribs":{"data-activate":"onActivateUserEdit","data-page":"user-edit"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"Edit your data"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"id":"user-edit-firstname","style":"display:none"},"children":[],"pos":27},{"type":2,"text":"\r\n"},{"type":1,"name":"div","attribs":{"id":"user-edit-lastname","style":"display:none"},"children":[],"pos":113},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"hr","attribs":{},"children":[],"pos":188,"autoclose":true},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"div","attribs":{"dir":"horizontal","fullwidth":null,"class":"x-row"},"children":[{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"href":"#/book/user","class":"tp4-button simple"},"children":[{"type":2,"text":"Cancel"}],"pos":237}]}]},{"type":1,"name":"div","attribs":{"class":"TRBL","style":"height:50%"},"children":[{"type":1,"name":"div","attribs":{"style":"width:50%"},"children":[{"type":1,"name":"a","attribs":{"href":"#","class":"tp4-button","id":"btnUserUpdate"},"children":[{"type":2,"text":"Update"}],"pos":301}]}]}],"pos":197},{"type":2,"text":"\r\n\r\n"}],"pos":550,"autoclose":true}],"pos":504},{"type":1,"name":"div","attribs":{"data-page":"registration-1"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"Unknown service"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"There is a technical error..."}],"pos":28},{"type":2,"text":"\r\n\r\n"},{"type":0,"name":"x-include","children":[{"type":1,"name":"hr","attribs":{},"children":[],"pos":0,"autoclose":true},{"type":2,"text":"\r\n"},{"type":1,"name":"center","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button","href":"#/book/main"},"children":[{"type":2,"text":"← Back"}],"pos":21},{"type":2,"text":"\r\n"}],"pos":7},{"type":2,"text":"\r\n"}],"pos":68,"autoclose":true},{"type":2,"text":"\r\n\r\n"}],"pos":638,"autoclose":true}],"pos":622},{"type":1,"name":"div","attribs":{"data-page":"registration1"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"New registration"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Your registration succedeed!"}],"pos":29},{"type":2,"text":"\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"You will soon receive a email with your QRCode."}],"pos":66},{"type":2,"text":"\r\n\r\n\r\n"},{"type":0,"name":"x-include","children":[{"type":1,"name":"hr","attribs":{},"children":[],"pos":0,"autoclose":true},{"type":2,"text":"\r\n"},{"type":1,"name":"center","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button","href":"#/book/main"},"children":[{"type":2,"text":"← Back"}],"pos":21},{"type":2,"text":"\r\n"}],"pos":7},{"type":2,"text":"\r\n"}],"pos":126,"autoclose":true},{"type":2,"text":"\r\n\r\n"}],"pos":733,"autoclose":true}],"pos":718},{"type":1,"name":"div","attribs":{"data-page":"registration2"},"children":[{"type":0,"name":"x-include","children":[{"type":1,"name":"h1","attribs":{},"children":[{"type":2,"text":"New registration"}],"pos":0},{"type":2,"text":"\r\n\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"You are already registred!"}],"pos":29},{"type":2,"text":"\r\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"You will soon receive an email with your QRCode."}],"pos":64},{"type":2,"text":"\r\n\r\n\r\n"},{"type":0,"name":"x-include","children":[{"type":1,"name":"hr","attribs":{},"children":[],"pos":0,"autoclose":true},{"type":2,"text":"\r\n"},{"type":1,"name":"center","attribs":{},"children":[{"type":2,"text":"\r\n    "},{"type":1,"name":"a","attribs":{"class":"tp4-button","href":"#/book/main"},"children":[{"type":2,"text":"← Back"}],"pos":21},{"type":2,"text":"\r\n"}],"pos":7},{"type":2,"text":"\r\n"}],"pos":125,"autoclose":true},{"type":2,"text":"\r\n\r\n"}],"pos":826,"autoclose":true}],"pos":811}],"pos":104},{"type":2,"text":"\r\n    "}],"pos":25},{"type":2,"text":"\r\n\r\n    "},{"type":1,"name":"div","attribs":{"id":"wait"},"children":[{"type":2,"text":"\r\n        "},{"type":1,"name":"div","attribs":{"id":"tp4.wait0","style":"display:none"},"children":[],"pos":964},{"type":2,"text":"\r\n    "}],"pos":939},{"type":2,"text":"\r\n"}]}],"pos":0}]}}}