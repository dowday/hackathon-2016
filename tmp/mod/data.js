{"intl":"","src":"require( 'data', function(exports, module) {  var WS = require(\"tfw.web-service\");\nvar Local = require(\"tfw.storage\").local;\n\n\nvar DATA = Local.get( 'data', {} ) || {};\n\nexports.get = function( name ) {\n    var data = DATA;\n    var path = name.split( '.' );\n    var i;\n    for( i=0 ; i<path.length ; i++ ) {\n        while( Array.isArray( data ) ) {\n            // Take the last element of an array.\n            data = data[data.length - 1];\n        }\n        data = data[path[i]];\n        if( typeof data === 'undefined' ) return undefined;\n    }\n\n    return data;\n};\n\n\nexports.set = function( name, value ) {\n    var data = DATA;\n    var path = name.split( '.' );\n    var i;\n    for( i=0 ; i<path.length - 1 ; i++ ) {\n        if( typeof data[path[i]] === 'undefined' ) {\n            data[path[i]] = {};\n        }\n        data = data[path[i]];\n    }\n    data[path.pop()] = value;\n};\n\nexports.reset = function() {\n    data = {};\n    exports.save();\n};\n\nexports.save = function() {\n    Local.set( 'data', DATA );\n/*\n    var data = APP.data || {};\n    data.id = APP.id;\nconsole.info(\"[data] data=...\", data);\n    WS.get(\n        'registration',\n        ['set', data ]\n    );\n*/\n};\n });\n","zip":"require(\"data\",function(e,t){var r=(require(\"tfw.web-service\"),require(\"tfw.storage\").local),n=r.get(\"data\",{})||{};e.get=function(e){var t,r=n,a=e.split(\".\");for(t=0;t<a.length;t++){for(;Array.isArray(r);)r=r[r.length-1];if(r=r[a[t]],\"undefined\"==typeof r)return}return r},e.set=function(e,t){var r,a=n,f=e.split(\".\");for(r=0;r<f.length-1;r++)\"undefined\"==typeof a[f[r]]&&(a[f[r]]={}),a=a[f[r]];a[f.pop()]=t},e.reset=function(){data={},e.save()},e.save=function(){r.set(\"data\",n)}});\n//# sourceMappingURL=data.js.map","map":{"version":3,"file":"data.js.map","sources":["data.js"],"sourcesContent":["require( 'data', function(exports, module) {  var WS = require(\"tfw.web-service\");\nvar Local = require(\"tfw.storage\").local;\n\n\nvar DATA = Local.get( 'data', {} ) || {};\n\nexports.get = function( name ) {\n    var data = DATA;\n    var path = name.split( '.' );\n    var i;\n    for( i=0 ; i<path.length ; i++ ) {\n        while( Array.isArray( data ) ) {\n            // Take the last element of an array.\n            data = data[data.length - 1];\n        }\n        data = data[path[i]];\n        if( typeof data === 'undefined' ) return undefined;\n    }\n\n    return data;\n};\n\n\nexports.set = function( name, value ) {\n    var data = DATA;\n    var path = name.split( '.' );\n    var i;\n    for( i=0 ; i<path.length - 1 ; i++ ) {\n        if( typeof data[path[i]] === 'undefined' ) {\n            data[path[i]] = {};\n        }\n        data = data[path[i]];\n    }\n    data[path.pop()] = value;\n};\n\nexports.reset = function() {\n    data = {};\n    exports.save();\n};\n\nexports.save = function() {\n    Local.set( 'data', DATA );\n/*\n    var data = APP.data || {};\n    data.id = APP.id;\nconsole.info(\"[data] data=...\", data);\n    WS.get(\n        'registration',\n        ['set', data ]\n    );\n*/\n};\n });\n"],"names":["require","exports","module","Local","local","DATA","get","name","i","data","path","split","length","Array","isArray","set","value","pop","reset","save"],"mappings":"AAAAA,QAAS,OAAQ,SAASC,EAASC,GAAW,GAC1CC,IADmDH,QAAQ,mBACnDA,QAAQ,eAAeI,OAG/BC,EAAOF,EAAMG,IAAK,cAEtBL,GAAQK,IAAM,SAAUC,GACpB,GAEIC,GAFAC,EAAOJ,EACPK,EAAOH,EAAKI,MAAO,IAEvB,KAAKH,EAAE,EAAIA,EAAEE,EAAKE,OAASJ,IAAM,CAC7B,KAAOK,MAAMC,QAASL,IAElBA,EAAOA,EAAKA,EAAKG,OAAS,EAG9B,IADAH,EAAOA,EAAKC,EAAKF,IACG,mBAATC,GAAuB,OAGtC,MAAOA,IAIXR,EAAQc,IAAM,SAAUR,EAAMS,GAC1B,GAEIR,GAFAC,EAAOJ,EACPK,EAAOH,EAAKI,MAAO,IAEvB,KAAKH,EAAE,EAAIA,EAAEE,EAAKE,OAAS,EAAIJ,IACE,mBAAlBC,GAAKC,EAAKF,MACjBC,EAAKC,EAAKF,QAEdC,EAAOA,EAAKC,EAAKF,GAErBC,GAAKC,EAAKO,OAASD,GAGvBf,EAAQiB,MAAQ,WACZT,QACAR,EAAQkB,QAGZlB,EAAQkB,KAAO,WACXhB,EAAMY,IAAK,OAAQV"},"dependencies":["mod/data","mod/tfw.web-service","mod/tfw.storage"]}