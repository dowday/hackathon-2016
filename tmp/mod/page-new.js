{"intl":"","src":"require( 'page-new', function(exports, module) {  var $ = require(\"dom\");\nvar WS = require(\"tfw.web-service\");\nvar Wdg = require(\"x-widget\");\nvar Md5 = require(\"md5\");\n\nvar Storage = require(\"tfw.storage\").local;\n\nvar btnNewRegistration = document.getElementById( 'btnNewRegistration' );\n$.on( btnNewRegistration, function() {\n    APP.waitOn();\n    var email = Wdg.getById( 'new-email' ).val();\n    var firstname = Wdg.getById( 'new-firstname' ).val();\n    var lastname = Wdg.getById( 'new-lastname' ).val();\n    Storage.set( 'id', Md5( email ) );\n    \n    WS.get( 'registration', [\n        'new', {\n            email: email,\n            firstname: firstname,\n            lastname: lastname\n        }\n    ]).then(\n        function( ret ) {\n            APP.waitOff();\n            window.location = \"#/book/registration\" + ret;\n        },\n        function( err ) {\n            APP.waitOff();\n        }\n    );\n});\n });\n","zip":"require(\"page-new\",function(e,t){var i=require(\"dom\"),n=require(\"tfw.web-service\"),a=require(\"x-widget\"),r=require(\"md5\"),o=require(\"tfw.storage\").local,w=document.getElementById(\"btnNewRegistration\");i.on(w,function(){APP.waitOn();var e=a.getById(\"new-email\").val(),t=a.getById(\"new-firstname\").val(),i=a.getById(\"new-lastname\").val();o.set(\"id\",r(e)),n.get(\"registration\",[\"new\",{email:e,firstname:t,lastname:i}]).then(function(e){APP.waitOff(),window.location=\"#/book/registration\"+e},function(e){APP.waitOff()})})});\n//# sourceMappingURL=page-new.js.map","map":{"version":3,"file":"page-new.js.map","sources":["page-new.js"],"sourcesContent":["require( 'page-new', function(exports, module) {  var $ = require(\"dom\");\nvar WS = require(\"tfw.web-service\");\nvar Wdg = require(\"x-widget\");\nvar Md5 = require(\"md5\");\n\nvar Storage = require(\"tfw.storage\").local;\n\nvar btnNewRegistration = document.getElementById( 'btnNewRegistration' );\n$.on( btnNewRegistration, function() {\n    APP.waitOn();\n    var email = Wdg.getById( 'new-email' ).val();\n    var firstname = Wdg.getById( 'new-firstname' ).val();\n    var lastname = Wdg.getById( 'new-lastname' ).val();\n    Storage.set( 'id', Md5( email ) );\n    \n    WS.get( 'registration', [\n        'new', {\n            email: email,\n            firstname: firstname,\n            lastname: lastname\n        }\n    ]).then(\n        function( ret ) {\n            APP.waitOff();\n            window.location = \"#/book/registration\" + ret;\n        },\n        function( err ) {\n            APP.waitOff();\n        }\n    );\n});\n });\n"],"names":["require","exports","module","$","WS","Wdg","Md5","Storage","local","btnNewRegistration","document","getElementById","on","APP","waitOn","email","getById","val","firstname","lastname","set","get","then","ret","waitOff","window","location","err"],"mappings":"AAAAA,QAAS,WAAY,SAASC,EAASC,GAAW,GAAIC,GAAIH,QAAQ,OAC9DI,EAAKJ,QAAQ,mBACbK,EAAML,QAAQ,YACdM,EAAMN,QAAQ,OAEdO,EAAUP,QAAQ,eAAeQ,MAEjCC,EAAqBC,SAASC,eAAgB,qBAClDR,GAAES,GAAIH,EAAoB,WACtBI,IAAIC,QACJ,IAAIC,GAAQV,EAAIW,QAAS,aAAcC,MACnCC,EAAYb,EAAIW,QAAS,iBAAkBC,MAC3CE,EAAWd,EAAIW,QAAS,gBAAiBC,KAC7CV,GAAQa,IAAK,KAAMd,EAAKS,IAExBX,EAAGiB,IAAK,gBACJ,OACIN,MAAOA,EACPG,UAAWA,EACXC,SAAUA,KAEfG,KACC,SAAUC,GACNV,IAAIW,UACJC,OAAOC,SAAW,sBAAwBH,GAE9C,SAAUI,GACNd,IAAIW"},"dependencies":["mod/page-new","mod/dom","mod/tfw.web-service","mod/x-widget","mod/md5","mod/tfw.storage"]}