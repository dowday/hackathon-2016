{"intl":"","src":"require( 'page-user', function(exports, module) {  var $ = require(\"dom\");\nvar WS = require(\"tfw.web-service\");\nvar Tpl = require(\"x-template\");\nvar Wdg = require(\"x-widget\");\nvar Gravatar = require(\"wdg.gravatar\");\nvar HintManager = require(\"hint-manager\");\n\n\nexports.activate = function( id ) {\n    var container = document.getElementById( 'user-container' );\n    $.clear( container );\n    Tpl.appendTo( \"user.wait\", container );\n    Wdg.onWidgetCreation( 'qrcode2', function( wdg ) {\n        wdg.id = id;\n    });\n    $.get( '#user-name' ).textContent = \"Unpacking your data...\";\n    WS.get( 'registration', ['get', id] ).then(\n        function( data ) {\n            APP.data = data;\n            console.info(\"[page-user] id=...\", id);\n            console.info(\"[page-user] data=...\", data);\n            if( !data ) {\n                window.location = \"?#/book/main\";\n                return;\n            }\n            $.get( '#user-name' ).textContent = data.firstname + \" \" + data.lastname.toUpperCase();\n            $.clear( container );\n            var children = Tpl.appendTo( \"user.data\", container );\n            children.img.src = Gravatar.url( id, 128 );\n\n            var p;\n            for( var i=1 ; i<3 ; i++ ) {\n                p = $.tag( 'p' );\n                children.planning.appendChild( p );\n                HintManager.appendTo( 'reminder' + i, p );\n            }\n        }\n    );\n};\n });\n","zip":"require(\"page-user\",function(e,r){var a=require(\"dom\"),n=require(\"tfw.web-service\"),t=require(\"x-template\"),i=require(\"x-widget\"),o=require(\"wdg.gravatar\"),u=require(\"hint-manager\");e.activate=function(e){var r=document.getElementById(\"user-container\");a.clear(r),t.appendTo(\"user.wait\",r),i.onWidgetCreation(\"qrcode2\",function(r){r.id=e}),a.get(\"#user-name\").textContent=\"Unpacking your data...\",n.get(\"registration\",[\"get\",e]).then(function(n){if(APP.data=n,console.info(\"[page-user] id=...\",e),console.info(\"[page-user] data=...\",n),!n)return void(window.location=\"?#/book/main\");a.get(\"#user-name\").textContent=n.firstname+\" \"+n.lastname.toUpperCase(),a.clear(r);var i=t.appendTo(\"user.data\",r);i.img.src=o.url(e,128);for(var d,g=1;3>g;g++)d=a.tag(\"p\"),i.planning.appendChild(d),u.appendTo(\"reminder\"+g,d)})}});\n//# sourceMappingURL=page-user.js.map","map":{"version":3,"file":"page-user.js.map","sources":["page-user.js"],"sourcesContent":["require( 'page-user', function(exports, module) {  var $ = require(\"dom\");\nvar WS = require(\"tfw.web-service\");\nvar Tpl = require(\"x-template\");\nvar Wdg = require(\"x-widget\");\nvar Gravatar = require(\"wdg.gravatar\");\nvar HintManager = require(\"hint-manager\");\n\n\nexports.activate = function( id ) {\n    var container = document.getElementById( 'user-container' );\n    $.clear( container );\n    Tpl.appendTo( \"user.wait\", container );\n    Wdg.onWidgetCreation( 'qrcode2', function( wdg ) {\n        wdg.id = id;\n    });\n    $.get( '#user-name' ).textContent = \"Unpacking your data...\";\n    WS.get( 'registration', ['get', id] ).then(\n        function( data ) {\n            APP.data = data;\n            console.info(\"[page-user] id=...\", id);\n            console.info(\"[page-user] data=...\", data);\n            if( !data ) {\n                window.location = \"?#/book/main\";\n                return;\n            }\n            $.get( '#user-name' ).textContent = data.firstname + \" \" + data.lastname.toUpperCase();\n            $.clear( container );\n            var children = Tpl.appendTo( \"user.data\", container );\n            children.img.src = Gravatar.url( id, 128 );\n\n            var p;\n            for( var i=1 ; i<3 ; i++ ) {\n                p = $.tag( 'p' );\n                children.planning.appendChild( p );\n                HintManager.appendTo( 'reminder' + i, p );\n            }\n        }\n    );\n};\n });\n"],"names":["require","exports","module","$","WS","Tpl","Wdg","Gravatar","HintManager","activate","id","container","document","getElementById","clear","appendTo","onWidgetCreation","wdg","get","textContent","then","data","APP","console","info","window","location","firstname","lastname","toUpperCase","children","img","src","url","p","i","tag","planning","appendChild"],"mappings":"AAAAA,QAAS,YAAa,SAASC,EAASC,GAAW,GAAIC,GAAIH,QAAQ,OAC/DI,EAAKJ,QAAQ,mBACbK,EAAML,QAAQ,cACdM,EAAMN,QAAQ,YACdO,EAAWP,QAAQ,gBACnBQ,EAAcR,QAAQ,eAG1BC,GAAQQ,SAAW,SAAUC,GACzB,GAAIC,GAAYC,SAASC,eAAgB,iBACzCV,GAAEW,MAAOH,GACTN,EAAIU,SAAU,YAAaJ,GAC3BL,EAAIU,iBAAkB,UAAW,SAAUC,GACvCA,EAAIP,GAAKA,IAEbP,EAAEe,IAAK,cAAeC,YAAc,yBACpCf,EAAGc,IAAK,gBAAiB,MAAOR,IAAMU,KAClC,SAAUC,GAIN,GAHAC,IAAID,KAAOA,EACXE,QAAQC,KAAK,qBAAsBd,GACnCa,QAAQC,KAAK,uBAAwBH,IAChCA,EAED,YADAI,OAAOC,SAAW,eAGtBvB,GAAEe,IAAK,cAAeC,YAAcE,EAAKM,UAAY,IAAMN,EAAKO,SAASC,cACzE1B,EAAEW,MAAOH,EACT,IAAImB,GAAWzB,EAAIU,SAAU,YAAaJ,EAC1CmB,GAASC,IAAIC,IAAMzB,EAAS0B,IAAKvB,EAAI,IAGrC,KAAK,GADDwB,GACKC,EAAE,EAAM,EAAFA,EAAMA,IACjBD,EAAI/B,EAAEiC,IAAK,KACXN,EAASO,SAASC,YAAaJ,GAC/B1B,EAAYO,SAAU,WAAaoB,EAAGD"},"dependencies":["mod/page-user","mod/dom","mod/tfw.web-service","mod/x-template","mod/x-widget","mod/wdg.gravatar","mod/hint-manager"]}