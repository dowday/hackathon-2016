{"intl":"","src":"require( 'app', function(exports, module) {  /**********************************************************************\r\n **********************************************************************/\r\nvar $ = require(\"dom\");\r\nvar Data = require(\"data\");\r\nvar Hash = require(\"tfw.hash-watcher\");\r\nvar Actions = require(\"actions\");\r\nvar PerformActions = require('app.perform-actions');\r\n\r\n\r\n// Main div af the screen.\r\nvar WDG = {\r\n    demo: $.get( '#DEMO' ),\r\n    app: $.get( '#APP' ),\r\n    appBody: $.get( '#APP-BODY' )\r\n};\r\n\r\n\r\nHash( function( actionID, arg1, arg2, arg3 ) {\r\n    if( actionID == 'refresh' ) {\r\n        location.hash = arg1;\r\n        return;\r\n    }\r\n    var action = findAction( actionID, arg1, arg2, arg3 );\r\n    if( !action ) return;\r\n\r\n    Data.set( \"arg0\", actionID );\r\n    Data.set( \"arg1\", arg1 );\r\n    Data.set( \"arg2\", arg2 );\r\n    Data.set( \"arg3\", arg3 );\r\n    console.log( \"----------------------------------------\" );\r\n    console.info(\"[app] actionID=...\", actionID, Data.get( \"arg0\" ));\r\n    Data.log();\r\n\r\n    if( typeof action === 'undefined' ) {\r\n        console.error( 'Unknown action: \"' + actionID + '\"' );\r\n        console.error( Object.keys( Actions ) );\r\n        location.hash = \"#main\";\r\n        return;\r\n    }\r\n\r\n    var type = action[0].trim().toLowerCase();\r\n    var children = action[1];\r\n\r\n    document.body.className = type;\r\n    try {\r\n        switch( type ) {\r\n        case 'story': actionDemo( children ); break;\r\n        case 'demo': actionDemo( children ); break;\r\n        case 'app': actionApp( children ); break;\r\n        case 'msg': actionMsg( children ); break;\r\n        }\r\n    }\r\n    catch( ex ) {\r\n        console.error( \"Error in \" + type.toUpperCase() + \":\", children );\r\n        console.error( \"Action:\", action );\r\n        alert( \"There is an error!\" );\r\n    }\r\n\r\n    $.get( '#HEADER' ).innerHTML = Data.parse( \"Open Hackathon 2016 - Team 3 - <b>{{$today|datetime}}</b>\" );\r\n    Data.log();\r\n    Data.save();\r\n});\r\n\r\n\r\nfunction actionDemo( children ) {\r\n    $.clear( WDG.demo, PerformActions( children ) );\r\n}\r\n\r\n\r\nfunction actionApp( children ) {\r\n    var content = PerformActions( children );\r\n    $.addClass( content, 'app', 'hide' );\r\n    $.clear( WDG.appBody, content );\r\n    window.setTimeout(function() {\r\n        $.removeClass( content, 'hide' );\r\n    });\r\n}\r\n\r\n\r\nfunction actionMsg( children ) {\r\n    var content = PerformActions( children );\r\n    $.addClass( content, 'msg', 'hide' );\r\n    $.clear( WDG.appBody, content );\r\n    window.setTimeout(function() {\r\n        $.removeClass( content, 'hide' );\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * `arg0` has the last actionID.\r\n * If `arg0 == \"A:B:C\"` and `actionID == \"foo:bar\"`,\r\n * the actions will be serach in this order:\r\n * * `A:B:foo:bar`\r\n * * `A:foo:bar`\r\n * * `foo:bar`\r\n */\r\nfunction findAction( actionID, arg1, arg2, arg3 ) {\r\n    var from = Data.get( \"arg0\" ) || '';\r\n    from = (\"\" + from).trim().split( \":\" );\r\n    if( from.length > 1 ) {\r\n        from.pop();\r\n        var i;\r\n        var hash;\r\n        var prefix;\r\n        var action;\r\n        for( i = from.length ; i > 0 ; i-- ) {\r\n            prefix = from.slice( 0, i ).join( ':' );\r\n            if( prefix.length > 0 ) prefix += \":\";\r\n            action = Actions[ prefix + actionID ];\r\n            if( action ) {\r\n                hash = \"#\" + prefix + actionID;\r\n                if( typeof arg1 !== 'undefined' ) {\r\n                    hash += \"/\" + arg1;\r\n                    if( typeof arg2 !== 'undefined' ) {\r\n                        hash += \"/\" + arg2;\r\n                        if( typeof arg3 !== 'undefined' ) {\r\n                            hash += \"/\" + arg3;\r\n                        }\r\n                    }\r\n                }\r\n                location.hash = hash;\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n    action = Actions[actionID];\r\n    if( !action ) {\r\n        location.hash = \"#main\";\r\n    }\r\n    return action;\r\n}\r\n });\r\n","zip":"require(\"app\",function(e,o){function r(e){i.clear(l.demo,p(e))}function a(e){var o=p(e);i.addClass(o,\"app\",\"hide\"),i.clear(l.appBody,o),window.setTimeout(function(){i.removeClass(o,\"hide\")})}function n(e){var o=p(e);i.addClass(o,\"msg\",\"hide\"),i.clear(l.appBody,o),window.setTimeout(function(){i.removeClass(o,\"hide\")})}function t(e,o,r,a){var n=s.get(\"arg0\")||\"\";if(n=(\"\"+n).trim().split(\":\"),n.length>1){n.pop();var t,i,c,p;for(t=n.length;t>0;t--)if(c=n.slice(0,t).join(\":\"),c.length>0&&(c+=\":\"),p=d[c+e])return i=\"#\"+c+e,\"undefined\"!=typeof o&&(i+=\"/\"+o,\"undefined\"!=typeof r&&(i+=\"/\"+r,\"undefined\"!=typeof a&&(i+=\"/\"+a))),void(location.hash=i)}return p=d[e],p||(location.hash=\"#main\"),p}var i=require(\"dom\"),s=require(\"data\"),c=require(\"tfw.hash-watcher\"),d=require(\"actions\"),p=require(\"app.perform-actions\"),l={demo:i.get(\"#DEMO\"),app:i.get(\"#APP\"),appBody:i.get(\"#APP-BODY\")};c(function(e,o,c,p){if(\"refresh\"==e)return void(location.hash=o);var l=t(e,o,c,p);if(l){if(s.set(\"arg0\",e),s.set(\"arg1\",o),s.set(\"arg2\",c),s.set(\"arg3\",p),console.log(\"----------------------------------------\"),console.info(\"[app] actionID=...\",e,s.get(\"arg0\")),s.log(),\"undefined\"==typeof l)return console.error('Unknown action: \"'+e+'\"'),console.error(Object.keys(d)),void(location.hash=\"#main\");var f=l[0].trim().toLowerCase(),u=l[1];document.body.className=f;try{switch(f){case\"story\":r(u);break;case\"demo\":r(u);break;case\"app\":a(u);break;case\"msg\":n(u)}}catch(h){console.error(\"Error in \"+f.toUpperCase()+\":\",u),console.error(\"Action:\",l),alert(\"There is an error!\")}i.get(\"#HEADER\").innerHTML=s.parse(\"Open Hackathon 2016 - Team 3 - <b>{{$today|datetime}}</b>\"),s.log(),s.save()}})});\n//# sourceMappingURL=app.js.map","map":{"version":3,"file":"app.js.map","sources":["app.js"],"sourcesContent":["require( 'app', function(exports, module) {  /**********************************************************************\r\n **********************************************************************/\r\nvar $ = require(\"dom\");\r\nvar Data = require(\"data\");\r\nvar Hash = require(\"tfw.hash-watcher\");\r\nvar Actions = require(\"actions\");\r\nvar PerformActions = require('app.perform-actions');\r\n\r\n\r\n// Main div af the screen.\r\nvar WDG = {\r\n    demo: $.get( '#DEMO' ),\r\n    app: $.get( '#APP' ),\r\n    appBody: $.get( '#APP-BODY' )\r\n};\r\n\r\n\r\nHash( function( actionID, arg1, arg2, arg3 ) {\r\n    if( actionID == 'refresh' ) {\r\n        location.hash = arg1;\r\n        return;\r\n    }\r\n    var action = findAction( actionID, arg1, arg2, arg3 );\r\n    if( !action ) return;\r\n\r\n    Data.set( \"arg0\", actionID );\r\n    Data.set( \"arg1\", arg1 );\r\n    Data.set( \"arg2\", arg2 );\r\n    Data.set( \"arg3\", arg3 );\r\n    console.log( \"----------------------------------------\" );\r\n    console.info(\"[app] actionID=...\", actionID, Data.get( \"arg0\" ));\r\n    Data.log();\r\n\r\n    if( typeof action === 'undefined' ) {\r\n        console.error( 'Unknown action: \"' + actionID + '\"' );\r\n        console.error( Object.keys( Actions ) );\r\n        location.hash = \"#main\";\r\n        return;\r\n    }\r\n\r\n    var type = action[0].trim().toLowerCase();\r\n    var children = action[1];\r\n\r\n    document.body.className = type;\r\n    try {\r\n        switch( type ) {\r\n        case 'story': actionDemo( children ); break;\r\n        case 'demo': actionDemo( children ); break;\r\n        case 'app': actionApp( children ); break;\r\n        case 'msg': actionMsg( children ); break;\r\n        }\r\n    }\r\n    catch( ex ) {\r\n        console.error( \"Error in \" + type.toUpperCase() + \":\", children );\r\n        console.error( \"Action:\", action );\r\n        alert( \"There is an error!\" );\r\n    }\r\n\r\n    $.get( '#HEADER' ).innerHTML = Data.parse( \"Open Hackathon 2016 - Team 3 - <b>{{$today|datetime}}</b>\" );\r\n    Data.log();\r\n    Data.save();\r\n});\r\n\r\n\r\nfunction actionDemo( children ) {\r\n    $.clear( WDG.demo, PerformActions( children ) );\r\n}\r\n\r\n\r\nfunction actionApp( children ) {\r\n    var content = PerformActions( children );\r\n    $.addClass( content, 'app', 'hide' );\r\n    $.clear( WDG.appBody, content );\r\n    window.setTimeout(function() {\r\n        $.removeClass( content, 'hide' );\r\n    });\r\n}\r\n\r\n\r\nfunction actionMsg( children ) {\r\n    var content = PerformActions( children );\r\n    $.addClass( content, 'msg', 'hide' );\r\n    $.clear( WDG.appBody, content );\r\n    window.setTimeout(function() {\r\n        $.removeClass( content, 'hide' );\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * `arg0` has the last actionID.\r\n * If `arg0 == \"A:B:C\"` and `actionID == \"foo:bar\"`,\r\n * the actions will be serach in this order:\r\n * * `A:B:foo:bar`\r\n * * `A:foo:bar`\r\n * * `foo:bar`\r\n */\r\nfunction findAction( actionID, arg1, arg2, arg3 ) {\r\n    var from = Data.get( \"arg0\" ) || '';\r\n    from = (\"\" + from).trim().split( \":\" );\r\n    if( from.length > 1 ) {\r\n        from.pop();\r\n        var i;\r\n        var hash;\r\n        var prefix;\r\n        var action;\r\n        for( i = from.length ; i > 0 ; i-- ) {\r\n            prefix = from.slice( 0, i ).join( ':' );\r\n            if( prefix.length > 0 ) prefix += \":\";\r\n            action = Actions[ prefix + actionID ];\r\n            if( action ) {\r\n                hash = \"#\" + prefix + actionID;\r\n                if( typeof arg1 !== 'undefined' ) {\r\n                    hash += \"/\" + arg1;\r\n                    if( typeof arg2 !== 'undefined' ) {\r\n                        hash += \"/\" + arg2;\r\n                        if( typeof arg3 !== 'undefined' ) {\r\n                            hash += \"/\" + arg3;\r\n                        }\r\n                    }\r\n                }\r\n                location.hash = hash;\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n    action = Actions[actionID];\r\n    if( !action ) {\r\n        location.hash = \"#main\";\r\n    }\r\n    return action;\r\n}\r\n });\r\n"],"names":["require","exports","module","actionDemo","children","$","clear","WDG","demo","PerformActions","actionApp","content","addClass","appBody","window","setTimeout","removeClass","actionMsg","findAction","actionID","arg1","arg2","arg3","from","Data","get","trim","split","length","pop","i","hash","prefix","action","slice","join","Actions","location","Hash","app","set","console","log","info","error","Object","keys","type","toLowerCase","document","body","className","ex","toUpperCase","alert","innerHTML","parse","save"],"mappings":"AAAAA,QAAS,MAAO,SAASC,EAASC,GAgElC,QAASC,GAAYC,GACjBC,EAAEC,MAAOC,EAAIC,KAAMC,EAAgBL,IAIvC,QAASM,GAAWN,GAChB,GAAIO,GAAUF,EAAgBL,EAC9BC,GAAEO,SAAUD,EAAS,MAAO,QAC5BN,EAAEC,MAAOC,EAAIM,QAASF,GACtBG,OAAOC,WAAW,WACdV,EAAEW,YAAaL,EAAS,UAKhC,QAASM,GAAWb,GAChB,GAAIO,GAAUF,EAAgBL,EAC9BC,GAAEO,SAAUD,EAAS,MAAO,QAC5BN,EAAEC,MAAOC,EAAIM,QAASF,GACtBG,OAAOC,WAAW,WACdV,EAAEW,YAAaL,EAAS,UAahC,QAASO,GAAYC,EAAUC,EAAMC,EAAMC,GACvC,GAAIC,GAAOC,EAAKC,IAAK,SAAY,EAEjC,IADAF,GAAQ,GAAKA,GAAMG,OAAOC,MAAO,KAC7BJ,EAAKK,OAAS,EAAI,CAClBL,EAAKM,KACL,IAAIC,GACAC,EACAC,EACAC,CACJ,KAAKH,EAAIP,EAAKK,OAASE,EAAI,EAAIA,IAI3B,GAHAE,EAAST,EAAKW,MAAO,EAAGJ,GAAIK,KAAM,KAC9BH,EAAOJ,OAAS,IAAII,GAAU,KAClCC,EAASG,EAASJ,EAASb,GAavB,MAXAY,GAAO,IAAMC,EAASb,EACF,mBAATC,KACPW,GAAQ,IAAMX,EACM,mBAATC,KACPU,GAAQ,IAAMV,EACM,mBAATC,KACPS,GAAQ,IAAMT,UAI1Be,SAASN,KAAOA,GAS5B,MAJAE,GAASG,EAAQjB,GACZc,IACDI,SAASN,KAAO,SAEbE,EAhIX,GAAI5B,GAAIL,QAAQ,OACZwB,EAAOxB,QAAQ,QACfsC,EAAOtC,QAAQ,oBACfoC,EAAUpC,QAAQ,WAClBS,EAAiBT,QAAQ,uBAIzBO,GACAC,KAAMH,EAAEoB,IAAK,SACbc,IAAKlC,EAAEoB,IAAK,QACZZ,QAASR,EAAEoB,IAAK,aAIpBa,GAAM,SAAUnB,EAAUC,EAAMC,EAAMC,GAClC,GAAgB,WAAZH,EAEA,YADAkB,SAASN,KAAOX,EAGpB,IAAIa,GAASf,EAAYC,EAAUC,EAAMC,EAAMC,EAC/C,IAAKW,EAAL,CAUA,GARAT,EAAKgB,IAAK,OAAQrB,GAClBK,EAAKgB,IAAK,OAAQpB,GAClBI,EAAKgB,IAAK,OAAQnB,GAClBG,EAAKgB,IAAK,OAAQlB,GAClBmB,QAAQC,IAAK,4CACbD,QAAQE,KAAK,qBAAsBxB,EAAUK,EAAKC,IAAK,SACvDD,EAAKkB,MAEiB,mBAAXT,GAIP,MAHAQ,SAAQG,MAAO,oBAAsBzB,EAAW,KAChDsB,QAAQG,MAAOC,OAAOC,KAAMV,SAC5BC,SAASN,KAAO,QAIpB,IAAIgB,GAAOd,EAAO,GAAGP,OAAOsB,cACxB5C,EAAW6B,EAAO,EAEtBgB,UAASC,KAAKC,UAAYJ,CAC1B,KACI,OAAQA,GACR,IAAK,QAAS5C,EAAYC,EAAY,MACtC,KAAK,OAAQD,EAAYC,EAAY,MACrC,KAAK,MAAOM,EAAWN,EAAY,MACnC,KAAK,MAAOa,EAAWb,IAG3B,MAAOgD,GACHX,QAAQG,MAAO,YAAcG,EAAKM,cAAgB,IAAKjD,GACvDqC,QAAQG,MAAO,UAAWX,GAC1BqB,MAAO,sBAGXjD,EAAEoB,IAAK,WAAY8B,UAAY/B,EAAKgC,MAAO,6DAC3ChC,EAAKkB,MACLlB,EAAKiC"},"dependencies":["mod/app","mod/dom","mod/data","mod/tfw.hash-watcher","mod/actions","mod/app.perform-actions"]}