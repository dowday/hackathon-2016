{"intl":"var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\n","src":"require( 'tp4.wait', function(exports, module) { var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\n var Widget = require(\"wdg\");\n\n/**\n * @param {object} opts\n * * {number} size: default 24.\n * * {string} color: default `#fff`.\n * * {string} caption: text aside.\n * @example\n * var Wait = require(\"tfw.modal\");\n * var instance = new Wait();\n * @class Wait\n */\nvar Wait = function(opts) {\n    Widget.call(this);\n    this.addClass(\"tp4-wait\");\n    if (typeof opts === 'string') opts = {\n        caption: opts\n    };\n    if (typeof opts !== 'object') {\n        opts = {};\n    }\n    if (typeof opts.color !== 'string') opts.color = \"#fff\";\n    if (typeof opts.size === 'undefined') opts.size = '24px';\n    if (typeof opts.size === 'number') opts.size += \"px\";\n\n    var svg = Widget.svg(\n        \"svg\",\n        {\n            width: opts.size,\n            height: opts.size,\n            viewBox: \"-32 -32 64 64\"\n        }\n    ).css(\n        {\n            width: opts.size,\n            height: opts.size\n        }\n    );\n    svg.append(\n        Widget.svg(\n            \"g\",\n            {\n                transform: \"rotate(0)\",\n                \"stroke-linecap\": \"round\"\n            }\n        ).append(\n            Widget.svg(\n                \"path\",\n                {\n                    stroke: \"#000\",\n                    opacity: .5,\n                    fill: \"none\",\n                    \"stroke-width\": 6,\n                    transform: \"rotate(0)\",\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\n                }\n            ),\n            Widget.svg(\n                \"path\",\n                {\n                    stroke: opts.color,\n                    fill: \"none\",\n                    \"stroke-width\": 4,\n                    transform: \"rotate(0)\",\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\n                }\n            )\n        ).append(\n            Widget.svg(\n                \"animateTransform\",\n                {\n                    attributeName: \"transform\",\n                    begin: \"0s\",\n                    dur: \"1s\",\n                    type: \"rotate\",\n                    from: 0,\n                    to: 360,\n                    repeatCount: \"indefinite\"\n                }\n            )\n        )\n    );\n    this.append(svg);\n    if (typeof opts.caption === 'string') {\n        this.text(opts.caption);\n    }\n};\n\nWait.prototype = Object.create(Widget.prototype);\nWait.prototype.constructor = Wait;\n\nfunction hasText(v) {\n    if (typeof v === 'string') {\n        if (!this._text) {\n            this._text = Widget.div();\n            this.append(this._text);\n        }\n        return true;\n    } else {\n        if (this._text) {\n            this._text.detach();\n        }\n        return false;\n    }\n}\n\n/**\n * @return void\n */\nWait.prototype.text = function(v) {\n    if (hasText.call(this, v)) {\n        this._text.text(v);\n    }\n    return this;\n};\n\n/**\n * @return void\n */\nWait.prototype.html = function(v) {\n    if (hasText.call(this, v)) {\n        this._text.html(v);\n    }\n    return this;\n};\n\nWait.create = function(opts) {\n    return new Wait(opts);\n};\nmodule.exports = Wait;\n });\n","zip":"require(\"tp4.wait\",function(t,e){function i(t){return\"string\"==typeof t?(this._text||(this._text=o.div(),this.append(this._text)),!0):(this._text&&this._text.detach(),!1)}var o=(require(\"$\").intl,require(\"wdg\")),r=function(t){o.call(this),this.addClass(\"tp4-wait\"),\"string\"==typeof t&&(t={caption:t}),\"object\"!=typeof t&&(t={}),\"string\"!=typeof t.color&&(t.color=\"#fff\"),\"undefined\"==typeof t.size&&(t.size=\"24px\"),\"number\"==typeof t.size&&(t.size+=\"px\");var e=o.svg(\"svg\",{width:t.size,height:t.size,viewBox:\"-32 -32 64 64\"}).css({width:t.size,height:t.size});e.append(o.svg(\"g\",{transform:\"rotate(0)\",\"stroke-linecap\":\"round\"}).append(o.svg(\"path\",{stroke:\"#000\",opacity:.5,fill:\"none\",\"stroke-width\":6,transform:\"rotate(0)\",d:\"M0,24 A24,24,0,1,1,24,0\"}),o.svg(\"path\",{stroke:t.color,fill:\"none\",\"stroke-width\":4,transform:\"rotate(0)\",d:\"M0,24 A24,24,0,1,1,24,0\"})).append(o.svg(\"animateTransform\",{attributeName:\"transform\",begin:\"0s\",dur:\"1s\",type:\"rotate\",from:0,to:360,repeatCount:\"indefinite\"}))),this.append(e),\"string\"==typeof t.caption&&this.text(t.caption)};r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.prototype.text=function(t){return i.call(this,t)&&this._text.text(t),this},r.prototype.html=function(t){return i.call(this,t)&&this._text.html(t),this},r.create=function(t){return new r(t)},e.exports=r});\n//# sourceMappingURL=tp4.wait.js.map","map":{"version":3,"file":"tp4.wait.js.map","sources":["tp4.wait.js"],"sourcesContent":["require( 'tp4.wait', function(exports, module) { var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\n var Widget = require(\"wdg\");\n\n/**\n * @param {object} opts\n * * {number} size: default 24.\n * * {string} color: default `#fff`.\n * * {string} caption: text aside.\n * @example\n * var Wait = require(\"tfw.modal\");\n * var instance = new Wait();\n * @class Wait\n */\nvar Wait = function(opts) {\n    Widget.call(this);\n    this.addClass(\"tp4-wait\");\n    if (typeof opts === 'string') opts = {\n        caption: opts\n    };\n    if (typeof opts !== 'object') {\n        opts = {};\n    }\n    if (typeof opts.color !== 'string') opts.color = \"#fff\";\n    if (typeof opts.size === 'undefined') opts.size = '24px';\n    if (typeof opts.size === 'number') opts.size += \"px\";\n\n    var svg = Widget.svg(\n        \"svg\",\n        {\n            width: opts.size,\n            height: opts.size,\n            viewBox: \"-32 -32 64 64\"\n        }\n    ).css(\n        {\n            width: opts.size,\n            height: opts.size\n        }\n    );\n    svg.append(\n        Widget.svg(\n            \"g\",\n            {\n                transform: \"rotate(0)\",\n                \"stroke-linecap\": \"round\"\n            }\n        ).append(\n            Widget.svg(\n                \"path\",\n                {\n                    stroke: \"#000\",\n                    opacity: .5,\n                    fill: \"none\",\n                    \"stroke-width\": 6,\n                    transform: \"rotate(0)\",\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\n                }\n            ),\n            Widget.svg(\n                \"path\",\n                {\n                    stroke: opts.color,\n                    fill: \"none\",\n                    \"stroke-width\": 4,\n                    transform: \"rotate(0)\",\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\n                }\n            )\n        ).append(\n            Widget.svg(\n                \"animateTransform\",\n                {\n                    attributeName: \"transform\",\n                    begin: \"0s\",\n                    dur: \"1s\",\n                    type: \"rotate\",\n                    from: 0,\n                    to: 360,\n                    repeatCount: \"indefinite\"\n                }\n            )\n        )\n    );\n    this.append(svg);\n    if (typeof opts.caption === 'string') {\n        this.text(opts.caption);\n    }\n};\n\nWait.prototype = Object.create(Widget.prototype);\nWait.prototype.constructor = Wait;\n\nfunction hasText(v) {\n    if (typeof v === 'string') {\n        if (!this._text) {\n            this._text = Widget.div();\n            this.append(this._text);\n        }\n        return true;\n    } else {\n        if (this._text) {\n            this._text.detach();\n        }\n        return false;\n    }\n}\n\n/**\n * @return void\n */\nWait.prototype.text = function(v) {\n    if (hasText.call(this, v)) {\n        this._text.text(v);\n    }\n    return this;\n};\n\n/**\n * @return void\n */\nWait.prototype.html = function(v) {\n    if (hasText.call(this, v)) {\n        this._text.html(v);\n    }\n    return this;\n};\n\nWait.create = function(opts) {\n    return new Wait(opts);\n};\nmodule.exports = Wait;\n });\n"],"names":["require","exports","module","hasText","v","this","_text","Widget","div","append","detach","intl","Wait","opts","call","addClass","caption","color","size","svg","width","height","viewBox","css","transform","stroke-linecap","stroke","opacity","fill","stroke-width","d","attributeName","begin","dur","type","from","to","repeatCount","text","prototype","Object","create","constructor","html"],"mappings":"AAAAA,QAAS,WAAY,SAASC,EAASC,GA4FvC,QAASC,GAAQC,GACb,MAAiB,gBAANA,IACFC,KAAKC,QACND,KAAKC,MAAQC,EAAOC,MACpBH,KAAKI,OAAOJ,KAAKC,SAEd,IAEHD,KAAKC,OACLD,KAAKC,MAAMI,UAER,GAvGkC,GAC5CH,IADiIP,QAAQ,KAAKW,KACrIX,QAAQ,QAYlBY,EAAO,SAASC,GAChBN,EAAOO,KAAKT,MACZA,KAAKU,SAAS,YACM,gBAATF,KAAmBA,GAC1BG,QAASH,IAEO,gBAATA,KACPA,MAEsB,gBAAfA,GAAKI,QAAoBJ,EAAKI,MAAQ,QACxB,mBAAdJ,GAAKK,OAAsBL,EAAKK,KAAO,QACzB,gBAAdL,GAAKK,OAAmBL,EAAKK,MAAQ,KAEhD,IAAIC,GAAMZ,EAAOY,IACb,OAEIC,MAAOP,EAAKK,KACZG,OAAQR,EAAKK,KACbI,QAAS,kBAEfC,KAEMH,MAAOP,EAAKK,KACZG,OAAQR,EAAKK,MAGrBC,GAAIV,OACAF,EAAOY,IACH,KAEIK,UAAW,YACXC,iBAAkB,UAExBhB,OACEF,EAAOY,IACH,QAEIO,OAAQ,OACRC,QAAS,GACTC,KAAM,OACNC,eAAgB,EAChBL,UAAW,YACXM,EAAG,4BAGXvB,EAAOY,IACH,QAEIO,OAAQb,EAAKI,MACbW,KAAM,OACNC,eAAgB,EAChBL,UAAW,YACXM,EAAG,6BAGbrB,OACEF,EAAOY,IACH,oBAEIY,cAAe,YACfC,MAAO,KACPC,IAAK,KACLC,KAAM,SACNC,KAAM,EACNC,GAAI,IACJC,YAAa,iBAK7BhC,KAAKI,OAAOU,GACgB,gBAAjBN,GAAKG,SACZX,KAAKiC,KAAKzB,EAAKG,SAIvBJ,GAAK2B,UAAYC,OAAOC,OAAOlC,EAAOgC,WACtC3B,EAAK2B,UAAUG,YAAc9B,EAoB7BA,EAAK2B,UAAUD,KAAO,SAASlC,GAI3B,MAHID,GAAQW,KAAKT,KAAMD,IACnBC,KAAKC,MAAMgC,KAAKlC,GAEbC,MAMXO,EAAK2B,UAAUI,KAAO,SAASvC,GAI3B,MAHID,GAAQW,KAAKT,KAAMD,IACnBC,KAAKC,MAAMqC,KAAKvC,GAEbC,MAGXO,EAAK6B,OAAS,SAAS5B,GACnB,MAAO,IAAID,GAAKC,IAEpBX,EAAOD,QAAUW"},"dependencies":["mod/tp4.wait","mod/$","mod/wdg"]}