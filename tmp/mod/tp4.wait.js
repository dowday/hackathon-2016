{"intl":"var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n","src":"require( 'tp4.wait', function(exports, module) { var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n var Widget = require(\"wdg\");\r\n\r\n/**\r\n * @param {object} opts\r\n * * {number} size: default 24.\r\n * * {string} color: default `#fff`.\r\n * * {string} caption: text aside.\r\n * @example\r\n * var Wait = require(\"tfw.modal\");\r\n * var instance = new Wait();\r\n * @class Wait\r\n */\r\nvar Wait = function(opts) {\r\n    Widget.call(this);\r\n    this.addClass(\"tp4-wait\");\r\n    if (typeof opts === 'string') opts = {\r\n        caption: opts\r\n    };\r\n    if (typeof opts !== 'object') {\r\n        opts = {};\r\n    }\r\n    if (typeof opts.color !== 'string') opts.color = \"#fff\";\r\n    if (typeof opts.size === 'undefined') opts.size = '24px';\r\n    if (typeof opts.size === 'number') opts.size += \"px\";\r\n\r\n    var svg = Widget.svg(\r\n        \"svg\",\r\n        {\r\n            width: opts.size,\r\n            height: opts.size,\r\n            viewBox: \"-32 -32 64 64\"\r\n        }\r\n    ).css(\r\n        {\r\n            width: opts.size,\r\n            height: opts.size\r\n        }\r\n    );\r\n    svg.append(\r\n        Widget.svg(\r\n            \"g\",\r\n            {\r\n                transform: \"rotate(0)\",\r\n                \"stroke-linecap\": \"round\"\r\n            }\r\n        ).append(\r\n            Widget.svg(\r\n                \"path\",\r\n                {\r\n                    stroke: \"#000\",\r\n                    opacity: .5,\r\n                    fill: \"none\",\r\n                    \"stroke-width\": 6,\r\n                    transform: \"rotate(0)\",\r\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\r\n                }\r\n            ),\r\n            Widget.svg(\r\n                \"path\",\r\n                {\r\n                    stroke: opts.color,\r\n                    fill: \"none\",\r\n                    \"stroke-width\": 4,\r\n                    transform: \"rotate(0)\",\r\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\r\n                }\r\n            )\r\n        ).append(\r\n            Widget.svg(\r\n                \"animateTransform\",\r\n                {\r\n                    attributeName: \"transform\",\r\n                    begin: \"0s\",\r\n                    dur: \"1s\",\r\n                    type: \"rotate\",\r\n                    from: 0,\r\n                    to: 360,\r\n                    repeatCount: \"indefinite\"\r\n                }\r\n            )\r\n        )\r\n    );\r\n    this.append(svg);\r\n    if (typeof opts.caption === 'string') {\r\n        this.text(opts.caption);\r\n    }\r\n};\r\n\r\nWait.prototype = Object.create(Widget.prototype);\r\nWait.prototype.constructor = Wait;\r\n\r\nfunction hasText(v) {\r\n    if (typeof v === 'string') {\r\n        if (!this._text) {\r\n            this._text = Widget.div();\r\n            this.append(this._text);\r\n        }\r\n        return true;\r\n    } else {\r\n        if (this._text) {\r\n            this._text.detach();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * @return void\r\n */\r\nWait.prototype.text = function(v) {\r\n    if (hasText.call(this, v)) {\r\n        this._text.text(v);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * @return void\r\n */\r\nWait.prototype.html = function(v) {\r\n    if (hasText.call(this, v)) {\r\n        this._text.html(v);\r\n    }\r\n    return this;\r\n};\r\n\r\nWait.create = function(opts) {\r\n    return new Wait(opts);\r\n};\r\nmodule.exports = Wait;\r\n });\r\n","zip":"require(\"tp4.wait\",function(t,e){function i(t){return\"string\"==typeof t?(this._text||(this._text=o.div(),this.append(this._text)),!0):(this._text&&this._text.detach(),!1)}var o=(require(\"$\").intl,require(\"wdg\")),r=function(t){o.call(this),this.addClass(\"tp4-wait\"),\"string\"==typeof t&&(t={caption:t}),\"object\"!=typeof t&&(t={}),\"string\"!=typeof t.color&&(t.color=\"#fff\"),\"undefined\"==typeof t.size&&(t.size=\"24px\"),\"number\"==typeof t.size&&(t.size+=\"px\");var e=o.svg(\"svg\",{width:t.size,height:t.size,viewBox:\"-32 -32 64 64\"}).css({width:t.size,height:t.size});e.append(o.svg(\"g\",{transform:\"rotate(0)\",\"stroke-linecap\":\"round\"}).append(o.svg(\"path\",{stroke:\"#000\",opacity:.5,fill:\"none\",\"stroke-width\":6,transform:\"rotate(0)\",d:\"M0,24 A24,24,0,1,1,24,0\"}),o.svg(\"path\",{stroke:t.color,fill:\"none\",\"stroke-width\":4,transform:\"rotate(0)\",d:\"M0,24 A24,24,0,1,1,24,0\"})).append(o.svg(\"animateTransform\",{attributeName:\"transform\",begin:\"0s\",dur:\"1s\",type:\"rotate\",from:0,to:360,repeatCount:\"indefinite\"}))),this.append(e),\"string\"==typeof t.caption&&this.text(t.caption)};r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.prototype.text=function(t){return i.call(this,t)&&this._text.text(t),this},r.prototype.html=function(t){return i.call(this,t)&&this._text.html(t),this},r.create=function(t){return new r(t)},e.exports=r});\n//# sourceMappingURL=tp4.wait.js.map","map":{"version":3,"file":"tp4.wait.js.map","sources":["tp4.wait.js"],"sourcesContent":["require( 'tp4.wait', function(exports, module) { var _intl_={\"fr\":{\"wait\":\"Veuillez patienter...\"},\"en\":{\"wait\":\"Please wait...\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n var Widget = require(\"wdg\");\r\n\r\n/**\r\n * @param {object} opts\r\n * * {number} size: default 24.\r\n * * {string} color: default `#fff`.\r\n * * {string} caption: text aside.\r\n * @example\r\n * var Wait = require(\"tfw.modal\");\r\n * var instance = new Wait();\r\n * @class Wait\r\n */\r\nvar Wait = function(opts) {\r\n    Widget.call(this);\r\n    this.addClass(\"tp4-wait\");\r\n    if (typeof opts === 'string') opts = {\r\n        caption: opts\r\n    };\r\n    if (typeof opts !== 'object') {\r\n        opts = {};\r\n    }\r\n    if (typeof opts.color !== 'string') opts.color = \"#fff\";\r\n    if (typeof opts.size === 'undefined') opts.size = '24px';\r\n    if (typeof opts.size === 'number') opts.size += \"px\";\r\n\r\n    var svg = Widget.svg(\r\n        \"svg\",\r\n        {\r\n            width: opts.size,\r\n            height: opts.size,\r\n            viewBox: \"-32 -32 64 64\"\r\n        }\r\n    ).css(\r\n        {\r\n            width: opts.size,\r\n            height: opts.size\r\n        }\r\n    );\r\n    svg.append(\r\n        Widget.svg(\r\n            \"g\",\r\n            {\r\n                transform: \"rotate(0)\",\r\n                \"stroke-linecap\": \"round\"\r\n            }\r\n        ).append(\r\n            Widget.svg(\r\n                \"path\",\r\n                {\r\n                    stroke: \"#000\",\r\n                    opacity: .5,\r\n                    fill: \"none\",\r\n                    \"stroke-width\": 6,\r\n                    transform: \"rotate(0)\",\r\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\r\n                }\r\n            ),\r\n            Widget.svg(\r\n                \"path\",\r\n                {\r\n                    stroke: opts.color,\r\n                    fill: \"none\",\r\n                    \"stroke-width\": 4,\r\n                    transform: \"rotate(0)\",\r\n                    d: \"M0,24 A24,24,0,1,1,24,0\"\r\n                }\r\n            )\r\n        ).append(\r\n            Widget.svg(\r\n                \"animateTransform\",\r\n                {\r\n                    attributeName: \"transform\",\r\n                    begin: \"0s\",\r\n                    dur: \"1s\",\r\n                    type: \"rotate\",\r\n                    from: 0,\r\n                    to: 360,\r\n                    repeatCount: \"indefinite\"\r\n                }\r\n            )\r\n        )\r\n    );\r\n    this.append(svg);\r\n    if (typeof opts.caption === 'string') {\r\n        this.text(opts.caption);\r\n    }\r\n};\r\n\r\nWait.prototype = Object.create(Widget.prototype);\r\nWait.prototype.constructor = Wait;\r\n\r\nfunction hasText(v) {\r\n    if (typeof v === 'string') {\r\n        if (!this._text) {\r\n            this._text = Widget.div();\r\n            this.append(this._text);\r\n        }\r\n        return true;\r\n    } else {\r\n        if (this._text) {\r\n            this._text.detach();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * @return void\r\n */\r\nWait.prototype.text = function(v) {\r\n    if (hasText.call(this, v)) {\r\n        this._text.text(v);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * @return void\r\n */\r\nWait.prototype.html = function(v) {\r\n    if (hasText.call(this, v)) {\r\n        this._text.html(v);\r\n    }\r\n    return this;\r\n};\r\n\r\nWait.create = function(opts) {\r\n    return new Wait(opts);\r\n};\r\nmodule.exports = Wait;\r\n });\r\n"],"names":["require","exports","module","hasText","v","this","_text","Widget","div","append","detach","intl","Wait","opts","call","addClass","caption","color","size","svg","width","height","viewBox","css","transform","stroke-linecap","stroke","opacity","fill","stroke-width","d","attributeName","begin","dur","type","from","to","repeatCount","text","prototype","Object","create","constructor","html"],"mappings":"AAAAA,QAAS,WAAY,SAASC,EAASC,GA4FvC,QAASC,GAAQC,GACb,MAAiB,gBAANA,IACFC,KAAKC,QACND,KAAKC,MAAQC,EAAOC,MACpBH,KAAKI,OAAOJ,KAAKC,SAEd,IAEHD,KAAKC,OACLD,KAAKC,MAAMI,UAER,GAvGkC,GAC5CH,IADiIP,QAAQ,KAAKW,KACrIX,QAAQ,QAYlBY,EAAO,SAASC,GAChBN,EAAOO,KAAKT,MACZA,KAAKU,SAAS,YACM,gBAATF,KAAmBA,GAC1BG,QAASH,IAEO,gBAATA,KACPA,MAEsB,gBAAfA,GAAKI,QAAoBJ,EAAKI,MAAQ,QACxB,mBAAdJ,GAAKK,OAAsBL,EAAKK,KAAO,QACzB,gBAAdL,GAAKK,OAAmBL,EAAKK,MAAQ,KAEhD,IAAIC,GAAMZ,EAAOY,IACb,OAEIC,MAAOP,EAAKK,KACZG,OAAQR,EAAKK,KACbI,QAAS,kBAEfC,KAEMH,MAAOP,EAAKK,KACZG,OAAQR,EAAKK,MAGrBC,GAAIV,OACAF,EAAOY,IACH,KAEIK,UAAW,YACXC,iBAAkB,UAExBhB,OACEF,EAAOY,IACH,QAEIO,OAAQ,OACRC,QAAS,GACTC,KAAM,OACNC,eAAgB,EAChBL,UAAW,YACXM,EAAG,4BAGXvB,EAAOY,IACH,QAEIO,OAAQb,EAAKI,MACbW,KAAM,OACNC,eAAgB,EAChBL,UAAW,YACXM,EAAG,6BAGbrB,OACEF,EAAOY,IACH,oBAEIY,cAAe,YACfC,MAAO,KACPC,IAAK,KACLC,KAAM,SACNC,KAAM,EACNC,GAAI,IACJC,YAAa,iBAK7BhC,KAAKI,OAAOU,GACgB,gBAAjBN,GAAKG,SACZX,KAAKiC,KAAKzB,EAAKG,SAIvBJ,GAAK2B,UAAYC,OAAOC,OAAOlC,EAAOgC,WACtC3B,EAAK2B,UAAUG,YAAc9B,EAoB7BA,EAAK2B,UAAUD,KAAO,SAASlC,GAI3B,MAHID,GAAQW,KAAKT,KAAMD,IACnBC,KAAKC,MAAMgC,KAAKlC,GAEbC,MAMXO,EAAK2B,UAAUI,KAAO,SAASvC,GAI3B,MAHID,GAAQW,KAAKT,KAAMD,IACnBC,KAAKC,MAAMqC,KAAKvC,GAEbC,MAGXO,EAAK6B,OAAS,SAAS5B,GACnB,MAAO,IAAID,GAAKC,IAEpBX,EAAOD,QAAUW"},"dependencies":["mod/tp4.wait","mod/$","mod/wdg"]}