{"intl":"","src":"require( 'main', function(exports, module) {  /**********************************************************************\r\n require( 'main' )\r\n -----------------------------------------------------------------------\r\n Global functions needed for the book.\r\n **********************************************************************/\r\n\r\nrequire(\"tp4.button\");\r\nrequire(\"page-new\");\r\nrequire(\"page-lost\");\r\n\r\nvar Wdg = require(\"x-widget\");\r\nvar Md5 = require(\"md5\");\r\nvar Storage = require(\"tfw.storage\").local;\r\nvar PageUser = require(\"page-user\");\r\nvar PageUserEdit = require(\"page-user-edit\");\r\n\r\n\r\nvar querystring = window.location.search.substr( 1 );\r\nif( Md5.isValid( querystring ) ) {\r\n    exports.id = querystring;\r\n    window.location = \"#/book/user\";\r\n}\r\n\r\nexports.onActivateMain = function() {\r\n    var qrcode = Wdg.onWidgetCreation( 'qrcode', function( wdg ) {\r\n        wdg.id = Storage.get( 'id', Md5( \"contact@tolokoban.org\" ) );\r\n    });\r\n};\r\n\r\n\r\nexports.onActivateUser = function() {\r\n    PageUser.activate( APP.id );\r\n};\r\n\r\n\r\nexports.onActivateUserEdit = function() {\r\n    PageUserEdit.activate( APP.id );\r\n};\r\n\r\n\r\nexports.waitOn = function() {\r\n    var wait = document.getElementById( \"wait\" );\r\n    wait.style.display = \"block\";\r\n};\r\n\r\nexports.waitOff = function() {\r\n    var wait = document.getElementById( \"wait\" );\r\n    wait.style.display = \"none\";\r\n};\r\n });\r\n","zip":"require(\"main\",function(e,t){require(\"tp4.button\"),require(\"page-new\"),require(\"page-lost\");var i=require(\"x-widget\"),n=require(\"md5\"),o=require(\"tfw.storage\").local,r=require(\"page-user\"),a=require(\"page-user-edit\"),u=window.location.search.substr(1);n.isValid(u)&&(e.id=u,window.location=\"#/book/user\"),e.onActivateMain=function(){i.onWidgetCreation(\"qrcode\",function(e){e.id=o.get(\"id\",n(\"contact@tolokoban.org\"))})},e.onActivateUser=function(){r.activate(APP.id)},e.onActivateUserEdit=function(){a.activate(APP.id)},e.waitOn=function(){var e=document.getElementById(\"wait\");e.style.display=\"block\"},e.waitOff=function(){var e=document.getElementById(\"wait\");e.style.display=\"none\"}});\n//# sourceMappingURL=main.js.map","map":{"version":3,"file":"main.js.map","sources":["main.js"],"sourcesContent":["require( 'main', function(exports, module) {  /**********************************************************************\r\n require( 'main' )\r\n -----------------------------------------------------------------------\r\n Global functions needed for the book.\r\n **********************************************************************/\r\n\r\nrequire(\"tp4.button\");\r\nrequire(\"page-new\");\r\nrequire(\"page-lost\");\r\n\r\nvar Wdg = require(\"x-widget\");\r\nvar Md5 = require(\"md5\");\r\nvar Storage = require(\"tfw.storage\").local;\r\nvar PageUser = require(\"page-user\");\r\nvar PageUserEdit = require(\"page-user-edit\");\r\n\r\n\r\nvar querystring = window.location.search.substr( 1 );\r\nif( Md5.isValid( querystring ) ) {\r\n    exports.id = querystring;\r\n    window.location = \"#/book/user\";\r\n}\r\n\r\nexports.onActivateMain = function() {\r\n    var qrcode = Wdg.onWidgetCreation( 'qrcode', function( wdg ) {\r\n        wdg.id = Storage.get( 'id', Md5( \"contact@tolokoban.org\" ) );\r\n    });\r\n};\r\n\r\n\r\nexports.onActivateUser = function() {\r\n    PageUser.activate( APP.id );\r\n};\r\n\r\n\r\nexports.onActivateUserEdit = function() {\r\n    PageUserEdit.activate( APP.id );\r\n};\r\n\r\n\r\nexports.waitOn = function() {\r\n    var wait = document.getElementById( \"wait\" );\r\n    wait.style.display = \"block\";\r\n};\r\n\r\nexports.waitOff = function() {\r\n    var wait = document.getElementById( \"wait\" );\r\n    wait.style.display = \"none\";\r\n};\r\n });\r\n"],"names":["require","exports","module","Wdg","Md5","Storage","local","PageUser","PageUserEdit","querystring","window","location","search","substr","isValid","id","onActivateMain","onWidgetCreation","wdg","get","onActivateUser","activate","APP","onActivateUserEdit","waitOn","wait","document","getElementById","style","display","waitOff"],"mappings":"AAAAA,QAAS,OAAQ,SAASC,EAASC,GAMnCF,QAAQ,cACRA,QAAQ,YACRA,QAAQ,YAER,IAAIG,GAAMH,QAAQ,YACdI,EAAMJ,QAAQ,OACdK,EAAUL,QAAQ,eAAeM,MACjCC,EAAWP,QAAQ,aACnBQ,EAAeR,QAAQ,kBAGvBS,EAAcC,OAAOC,SAASC,OAAOC,OAAQ,EAC7CT,GAAIU,QAASL,KACbR,EAAQc,GAAKN,EACbC,OAAOC,SAAW,eAGtBV,EAAQe,eAAiB,WACRb,EAAIc,iBAAkB,SAAU,SAAUC,GACnDA,EAAIH,GAAKV,EAAQc,IAAK,KAAMf,EAAK,6BAKzCH,EAAQmB,eAAiB,WACrBb,EAASc,SAAUC,IAAIP,KAI3Bd,EAAQsB,mBAAqB,WACzBf,EAAaa,SAAUC,IAAIP,KAI/Bd,EAAQuB,OAAS,WACb,GAAIC,GAAOC,SAASC,eAAgB,OACpCF,GAAKG,MAAMC,QAAU,SAGzB5B,EAAQ6B,QAAU,WACd,GAAIL,GAAOC,SAASC,eAAgB,OACpCF,GAAKG,MAAMC,QAAU"},"dependencies":["mod/main","mod/tp4.button","mod/page-new","mod/page-lost","mod/x-widget","mod/md5","mod/tfw.storage","mod/page-user","mod/page-user-edit"]}