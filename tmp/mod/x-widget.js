{"intl":"","src":"require( 'x-widget', function(exports, module) {  \"use strict\";\n\nvar widgets = {};\n// Used for `onWidgetCreation()`.\nvar slots = {};\n\n\nvar Widget = function(id, modName, args) {\n    var dst = document.getElementById( id );\n    if (!dst) {\n        // This widget does not exist!\n        return;\n    }\n    var module = require( modName );\n    var wdg = new module( args );\n    var elem = typeof wdg.element === 'function' ? wdg.element() : wdg.element;\n    elem.setAttribute( 'id', id );\n    dst.parentNode.replaceChild( elem, dst );\n    register( id, wdg );\n};\n\nWidget.template = function( attribs ) {\n    var key, val, id, name = '', args = {};\n    for( key in attribs ) {\n        val = attribs[key];\n        if( key == 'name' ) {\n            name = val;\n        }\n        else if( key == 'id' ) {\n            id = val;\n        }\n        else if( key.charAt(0)=='$' ) {\n            args[key.substr( 1 )] = val;\n        }        \n    }\n    var module = require( name );\n    var wdg = new module( args );\n    if( id ) {\n        register( id, wdg );\n    }\n\n    return typeof wdg.element === 'function' ? wdg.element() : (wdg.element || wdg);\n};\n\nfunction register( id, wdg ) {\n    widgets[id] = wdg;\n    var mySlots = slots[id];\n    console.info(\"[x-widget] mySlots=...\", mySlots);\n    if( typeof mySlots !== 'undefined' ) {\n        window.setTimeout(function() {\n            mySlots.forEach(function (slot) {\n                slot( wdg );\n            });\n            delete slots[id];\n        });        \n    }\n    return typeof wdg.element === 'function' ? wdg.element : (wdg.element || wdg);\n};\n\nWidget.getById = function( id ) {\n    if( !widgets[id] ) throw Error( \"[x-widget.getById()] ID not found: \" + id + \"!\" );\n    return widgets[id];\n};\n\nWidget.onWidgetCreation = function( id, slot ) {\n    if( typeof widgets[id] === 'undefined' ) {\n        if( typeof slots[id] === 'undefined' ) slots[id] = [slot];\n        else slots[id].push( slot );\n    } else {\n        // Asynchronous call to the slot\n        window.setTimeout(\n            function() {\n                slot( widgets[id] );\n            }\n        );\n    }\n};\n\nmodule.exports = Widget;\n });\n","zip":"require(\"x-widget\",function(e,t){\"use strict\";function n(e,t){o[e]=t;var n=i[e];return console.info(\"[x-widget] mySlots=...\",n),\"undefined\"!=typeof n&&window.setTimeout(function(){n.forEach(function(e){e(t)}),delete i[e]}),\"function\"==typeof t.element?t.element:t.element||t}var o={},i={},r=function(e,t,o){var i=document.getElementById(e);if(i){var r=require(t),u=new r(o),f=\"function\"==typeof u.element?u.element():u.element;f.setAttribute(\"id\",e),i.parentNode.replaceChild(f,i),n(e,u)}};r.template=function(e){var t,o,i,r=\"\",u={};for(t in e)o=e[t],\"name\"==t?r=o:\"id\"==t?i=o:\"$\"==t.charAt(0)&&(u[t.substr(1)]=o);var f=require(r),d=new f(u);return i&&n(i,d),\"function\"==typeof d.element?d.element():d.element||d},r.getById=function(e){if(!o[e])throw Error(\"[x-widget.getById()] ID not found: \"+e+\"!\");return o[e]},r.onWidgetCreation=function(e,t){\"undefined\"==typeof o[e]?\"undefined\"==typeof i[e]?i[e]=[t]:i[e].push(t):window.setTimeout(function(){t(o[e])})},t.exports=r});\n//# sourceMappingURL=x-widget.js.map","map":{"version":3,"file":"x-widget.js.map","sources":["x-widget.js"],"sourcesContent":["require( 'x-widget', function(exports, module) {  \"use strict\";\n\nvar widgets = {};\n// Used for `onWidgetCreation()`.\nvar slots = {};\n\n\nvar Widget = function(id, modName, args) {\n    var dst = document.getElementById( id );\n    if (!dst) {\n        // This widget does not exist!\n        return;\n    }\n    var module = require( modName );\n    var wdg = new module( args );\n    var elem = typeof wdg.element === 'function' ? wdg.element() : wdg.element;\n    elem.setAttribute( 'id', id );\n    dst.parentNode.replaceChild( elem, dst );\n    register( id, wdg );\n};\n\nWidget.template = function( attribs ) {\n    var key, val, id, name = '', args = {};\n    for( key in attribs ) {\n        val = attribs[key];\n        if( key == 'name' ) {\n            name = val;\n        }\n        else if( key == 'id' ) {\n            id = val;\n        }\n        else if( key.charAt(0)=='$' ) {\n            args[key.substr( 1 )] = val;\n        }        \n    }\n    var module = require( name );\n    var wdg = new module( args );\n    if( id ) {\n        register( id, wdg );\n    }\n\n    return typeof wdg.element === 'function' ? wdg.element() : (wdg.element || wdg);\n};\n\nfunction register( id, wdg ) {\n    widgets[id] = wdg;\n    var mySlots = slots[id];\n    console.info(\"[x-widget] mySlots=...\", mySlots);\n    if( typeof mySlots !== 'undefined' ) {\n        window.setTimeout(function() {\n            mySlots.forEach(function (slot) {\n                slot( wdg );\n            });\n            delete slots[id];\n        });        \n    }\n    return typeof wdg.element === 'function' ? wdg.element : (wdg.element || wdg);\n};\n\nWidget.getById = function( id ) {\n    if( !widgets[id] ) throw Error( \"[x-widget.getById()] ID not found: \" + id + \"!\" );\n    return widgets[id];\n};\n\nWidget.onWidgetCreation = function( id, slot ) {\n    if( typeof widgets[id] === 'undefined' ) {\n        if( typeof slots[id] === 'undefined' ) slots[id] = [slot];\n        else slots[id].push( slot );\n    } else {\n        // Asynchronous call to the slot\n        window.setTimeout(\n            function() {\n                slot( widgets[id] );\n            }\n        );\n    }\n};\n\nmodule.exports = Widget;\n });\n"],"names":["require","exports","module","register","id","wdg","widgets","mySlots","slots","console","info","window","setTimeout","forEach","slot","element","Widget","modName","args","dst","document","getElementById","elem","setAttribute","parentNode","replaceChild","template","attribs","key","val","name","charAt","substr","getById","Error","onWidgetCreation","push"],"mappings":"AAAAA,QAAS,WAAY,SAASC,EAASC,GAAW,YA4ClD,SAASC,GAAUC,EAAIC,GACnBC,EAAQF,GAAMC,CACd,IAAIE,GAAUC,EAAMJ,EAUpB,OATAK,SAAQC,KAAK,yBAA0BH,GAChB,mBAAZA,IACPI,OAAOC,WAAW,WACdL,EAAQM,QAAQ,SAAUC,GACtBA,EAAMT,WAEHG,GAAMJ,KAGS,kBAAhBC,GAAIU,QAAyBV,EAAIU,QAAWV,EAAIU,SAAWV,EAtD7E,GAAIC,MAEAE,KAGAQ,EAAS,SAASZ,EAAIa,EAASC,GAC/B,GAAIC,GAAMC,SAASC,eAAgBjB,EACnC,IAAKe,EAAL,CAIA,GAAIjB,GAASF,QAASiB,GAClBZ,EAAM,GAAIH,GAAQgB,GAClBI,EAA8B,kBAAhBjB,GAAIU,QAAyBV,EAAIU,UAAYV,EAAIU,OACnEO,GAAKC,aAAc,KAAMnB,GACzBe,EAAIK,WAAWC,aAAcH,EAAMH,GACnChB,EAAUC,EAAIC,IAGlBW,GAAOU,SAAW,SAAUC,GACxB,GAAIC,GAAKC,EAAKzB,EAAI0B,EAAO,GAAIZ,IAC7B,KAAKU,IAAOD,GACRE,EAAMF,EAAQC,GACH,QAAPA,EACAE,EAAOD,EAEK,MAAPD,EACLxB,EAAKyB,EAEe,KAAfD,EAAIG,OAAO,KAChBb,EAAKU,EAAII,OAAQ,IAAOH,EAGhC,IAAI3B,GAASF,QAAS8B,GAClBzB,EAAM,GAAIH,GAAQgB,EAKtB,OAJId,IACAD,EAAUC,EAAIC,GAGY,kBAAhBA,GAAIU,QAAyBV,EAAIU,UAAaV,EAAIU,SAAWV,GAkB/EW,EAAOiB,QAAU,SAAU7B,GACvB,IAAKE,EAAQF,GAAM,KAAM8B,OAAO,sCAAwC9B,EAAK,IAC7E,OAAOE,GAAQF,IAGnBY,EAAOmB,iBAAmB,SAAU/B,EAAIU,GACT,mBAAhBR,GAAQF,GACU,mBAAdI,GAAMJ,GAAsBI,EAAMJ,IAAOU,GAC/CN,EAAMJ,GAAIgC,KAAMtB,GAGrBH,OAAOC,WACH,WACIE,EAAMR,EAAQF,OAM9BF,EAAOD,QAAUe"},"dependencies":["mod/x-widget"]}